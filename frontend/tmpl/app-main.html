
<div>
	<div class="d-flex flex-column vh-100">
		<div class="flex-grow-1 overflow-auto">
			<div class="container-fluid folder-head p-1 p-sm-2">
				<nav aria-label="breadcrumb">
					<ol class="breadcrumb align-items-center p-2 mb-2 rounded">
						<li v-for="file in curpathway" class="breadcrumb-item"><button v-on:click="onopen(file)" v-bind:title="`/id${aid}/path/${file.path}`" class="btn btn-link p-0">{{file.name}}</button></li>
						<li class="breadcrumb-item active" aria-current="page">{{curbasename}}</li>
					</ol>
				</nav>
				<template v-if="curpath">
					<div v-if="shrname">
						Shared at <span class="bg-stat">{{shrname}}</span> as
						<span class="bg-stat"><a v-bind:href="curshorturl" target="_blank">{{curshorturl}}</a></span>
					</div>
					<div v-else>Folder does not shared</div>
					<div class="small">
						Total <span class="bg-stat">{{pathlist.length}}</span> subfolders,
						<span class="bg-stat">{{filelist.length}}</span> files on <span class="bg-stat">{{sumsize}}</span>, scanning time <span class="bg-stat">{{curscan.toLocaleTimeString()}}</span>.
					</div>
				</template>
			</div>

			<nav class="navbar navbar-expand-sm bg-tool px-1 px-sm-2 w-100 sticky-top">
				<ul class="navbar-nav flex-row">
					<li v-show="isadmin||ishome"><button class="btn toolbtn bg-high" v-bind:disabled="dishome" v-on:click="onhome" title="go home"><i class="material-icons">home</i></button></li>
					<li><button class="btn toolbtn" v-bind:disabled="disback" v-on:click="onback" v-bind:title="hintback"><i class="material-icons">arrow_back</i></button></li>
					<li><button class="btn toolbtn" v-bind:disabled="disforward" v-on:click="onforward" v-bind:title="hintforward"><i class="material-icons">arrow_forward</i></button></li>
					<li><button class="btn toolbtn" v-bind:disabled="disparent" v-on:click="onparent" v-bind:title="hintparent"><i class="material-icons">subdirectory_arrow_left</i></button></li>
					<li><button class="btn toolbtn" v-on:click="onrefresh" title="refresh"><i class="material-icons">refresh</i></button></li>
				</ul>
				<button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#menuaddon">
					<span class="navbar-toggler-icon"></span>
				</button>
				<div class="collapse navbar-collapse" id="menuaddon">
					<ul class="navbar-nav flex-row flex-wrap ms-auto">
						<li class="btn-group">
							<button class="btn toolbtn dropdown-toggle" data-bs-toggle="dropdown" aria-expanded="false" title="choose skin or icons"><i class="material-icons">color_lens</i></button>
							<div class="dropdown-menu dropdown-menu-end bg-tool menu-scrollable">
								<h6 class="dropdown-header">Skins:</h6>
								<template v-for="item in resmodel.skinlist">
									<button class="dropdown-item" v-on:click="setskin(item.id)" v-bind:class="{active:skinid===item.id}">{{item.name}}</button>
								</template>
								<h6 class="dropdown-header">Icons:</h6>
								<template v-for="item in resmodel.iconlist">
									<button class="dropdown-item" v-on:click="seticon(item.id)" v-bind:class="{active:iconid===item.id}">{{item.name}}</button>
								</template>
							</div>
						</li>
						<li class="d-flex flex-nowrap">
							<div v-show="showauth">
								<auth-tag v-on:refresh="onrefresh" />
							</div>
							<div><button class="btn toolbtn" v-on:click="onauthcaret" v-bind:title="hintauthcaret"><i class="material-icons">{{textauthcaret}}</i></button></div>
						</li>
					</ul>
				</div>
			</nav>

			<div id="accordion">
				<template>
					<dir-card-tag ref="dcard" v-bind:list="pathlist" v-bind:shared="shared" v-on:share="onshare" />
				</template>

				<template>
					<file-card-tag ref="fcard" v-bind:list="filelist" v-bind:shared="shared" v-on:share="onshare" />
				</template>

				<template>
					<map-card-tag ref="mcard" />
				</template>
			</div>
		</div>

		<template>
			<mp3-player-tag ref="mp3player" />
		</template>
	</div>

	<template>
		<photoslider-tag ref="slider" />
	</template>

	<!-- Dialog managed by jQuery calls -->

	<div class="modal fade" id="msgbox">
		<div class="modal-dialog modal-dialog-centered">
			<div class="modal-content">
				<div class="modal-header">
					<h4 class="modal-title"></h4>
					<button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
				</div>
				<div class="modal-body">
					<div class="message"></div>
					<ul class="details small">
						Details:
						<li><span class="fw-bold mr-2">error code:</span><span class="errcode"></span></li>
						<li><span class="fw-bold mr-2">message:</span><span class="errmsg"></span></li>
					</ul>
				</div>
				<div class="modal-footer">
					<button type="button" class="btn btn-dark" data-bs-dismiss="modal">Close</button>
				</div>
			</div>
		</div>
	</div>
</div>
