var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.SIMPLE_FROUND_POLYFILL=!1;$jscomp.ISOLATE_POLYFILLS=!1;$jscomp.FORCE_POLYFILL_PROMISE=!1;$jscomp.FORCE_POLYFILL_PROMISE_WHEN_NO_UNHANDLED_REJECTION=!1;$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(q,B,K){if(q==Array.prototype||q==Object.prototype)return q;q[B]=K.value;return q};
$jscomp.getGlobal=function(q){q=["object"==typeof globalThis&&globalThis,q,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global];for(var B=0;B<q.length;++B){var K=q[B];if(K&&K.Math==Math)return K}throw Error("Cannot find global object");};$jscomp.global=$jscomp.getGlobal(this);$jscomp.IS_SYMBOL_NATIVE="function"===typeof Symbol&&"symbol"===typeof Symbol("x");$jscomp.TRUST_ES6_POLYFILLS=!$jscomp.ISOLATE_POLYFILLS||$jscomp.IS_SYMBOL_NATIVE;$jscomp.polyfills={};
$jscomp.propertyToPolyfillSymbol={};$jscomp.POLYFILL_PREFIX="$jscp$";var $jscomp$lookupPolyfilledValue=function(q,B){var K=$jscomp.propertyToPolyfillSymbol[B];if(null==K)return q[B];K=q[K];return void 0!==K?K:q[B]};$jscomp.polyfill=function(q,B,K,e){B&&($jscomp.ISOLATE_POLYFILLS?$jscomp.polyfillIsolated(q,B,K,e):$jscomp.polyfillUnisolated(q,B,K,e))};
$jscomp.polyfillUnisolated=function(q,B,K,e){K=$jscomp.global;q=q.split(".");for(e=0;e<q.length-1;e++){var g=q[e];if(!(g in K))return;K=K[g]}q=q[q.length-1];e=K[q];B=B(e);B!=e&&null!=B&&$jscomp.defineProperty(K,q,{configurable:!0,writable:!0,value:B})};
$jscomp.polyfillIsolated=function(q,B,K,e){var g=q.split(".");q=1===g.length;e=g[0];e=!q&&e in $jscomp.polyfills?$jscomp.polyfills:$jscomp.global;for(var k=0;k<g.length-1;k++){var p=g[k];if(!(p in e))return;e=e[p]}g=g[g.length-1];K=$jscomp.IS_SYMBOL_NATIVE&&"es6"===K?e[g]:null;B=B(K);null!=B&&(q?$jscomp.defineProperty($jscomp.polyfills,g,{configurable:!0,writable:!0,value:B}):B!==K&&(void 0===$jscomp.propertyToPolyfillSymbol[g]&&(K=1E9*Math.random()>>>0,$jscomp.propertyToPolyfillSymbol[g]=$jscomp.IS_SYMBOL_NATIVE?
$jscomp.global.Symbol(g):$jscomp.POLYFILL_PREFIX+K+"$"+g),$jscomp.defineProperty(e,$jscomp.propertyToPolyfillSymbol[g],{configurable:!0,writable:!0,value:B})))};$jscomp.polyfill("Math.trunc",function(q){return q?q:function(B){B=Number(B);if(isNaN(B)||Infinity===B||-Infinity===B||0===B)return B;var K=Math.floor(Math.abs(B));return 0>B?-K:K}},"es6","es3");
!function(q,B){"object"==typeof exports&&"undefined"!=typeof module?B(exports):"function"==typeof define&&define.amd?define(["exports"],B):B(q.L={})}(this,function(q){function B(a){for(var b,c,d=1,f=arguments.length;d<f;d++)for(b in c=arguments[d])a[b]=c[b];return a}function K(){}function e(a,b){var c=Array.prototype.slice;if(a.bind)return a.bind.apply(a,c.call(arguments,1));var d=c.call(arguments,2);return function(){return a.apply(b,d.length?d.concat(c.call(arguments)):arguments)}}function g(a){return a._leaflet_id=
a._leaflet_id||++Gc,a._leaflet_id}function k(a,b,c){var d,f,h=function(){d=!1;f&&(l.apply(c,f),f=!1)},l=function(){d?f=arguments:(a.apply(c,arguments),setTimeout(h,b),d=!0)};return l}function p(a,b,c){var d=b[1];b=b[0];var f=d-b;return a===d&&c?a:((a-b)%f+f)%f+b}function u(){return!1}function m(a,b){b=Math.pow(10,void 0===b?6:b);return Math.round(a*b)/b}function t(a){return a.trim?a.trim():a.replace(/^\s+|\s+$/g,"")}function D(a){return t(a).split(/\s+/)}function E(a,b){for(var c in Object.prototype.hasOwnProperty.call(a,
"options")||(a.options=a.options?ub(a.options):{}),b)a.options[c]=b[c];return a.options}function H(a,b,c){var d=[],f;for(f in a)d.push(encodeURIComponent(c?f.toUpperCase():f)+"="+encodeURIComponent(a[f]));return(b&&-1!==b.indexOf("?")?"&":"?")+d.join("&")}function N(a,b){return a.replace(Hd,function(c,d){d=b[d];if(void 0===d)throw Error("No value provided for variable "+c);return"function"==typeof d&&(d=d(b)),d})}function X(a,b){for(var c=0;c<a.length;c++)if(a[c]===b)return c;return-1}function J(a){return window["webkit"+
a]||window["moz"+a]||window["ms"+a]}function R(a){var b=+new Date,c=Math.max(0,16-(b-Hc));return Hc=b+c,window.setTimeout(a,c)}function P(a,b,c){if(!c||Rb!==R)return Rb.call(window,e(a,b));a.call(b)}function V(a){a&&Ic.call(window,a)}function U(){}function n(a,b,c){this.x=c?Math.round(a):a;this.y=c?Math.round(b):b}function r(a,b,c){return a instanceof n?a:va(a)?new n(a[0],a[1]):null==a?a:"object"==typeof a&&"x"in a&&"y"in a?new n(a.x,a.y):new n(a,b,c)}function y(a,b){if(a){a=b?[a,b]:a;b=0;for(var c=
a.length;b<c;b++)this.extend(a[b])}}function F(a,b){return!a||a instanceof y?a:new y(a,b)}function z(a,b){if(a){a=b?[a,b]:a;b=0;for(var c=a.length;b<c;b++)this.extend(a[b])}}function A(a,b){return a instanceof z?a:new z(a,b)}function x(a,b,c){if(isNaN(a)||isNaN(b))throw Error("Invalid LatLng object: ("+a+", "+b+")");this.lat=+a;this.lng=+b;void 0!==c&&(this.alt=+c)}function G(a,b,c){return a instanceof x?a:va(a)&&"object"!=typeof a[0]?3===a.length?new x(a[0],a[1],a[2]):2===a.length?new x(a[0],a[1]):
null:null==a?a:"object"==typeof a&&"lat"in a?new x(a.lat,"lng"in a?a.lng:a.lon,a.alt):void 0===b?null:new x(a,b,c)}function fa(a,b,c,d){if(va(a))return this._a=a[0],this._b=a[1],this._c=a[2],void(this._d=a[3]);this._a=a;this._b=b;this._c=c;this._d=d}function da(a,b,c,d){return new fa(a,b,c,d)}function ha(a){return document.createElementNS("http://www.w3.org/2000/svg",a)}function ea(a,b){for(var c,d,f,h,l="",v=0,w=a.length;v<w;v++){c=0;for(d=(f=a[v]).length;c<d;c++)l+=(c?"L":"M")+(h=f[c]).x+" "+h.y;
l+=b?vb?"z":"x":""}return l||"M0 0"}function Z(a){return 0<=navigator.userAgent.toLowerCase().indexOf(a)}function qa(a,b,c,d){function f(C){Sb(C,l)}function h(C){C.pointerType===(C.MSPOINTER_TYPE_MOUSE||"mouse")&&0===C.buttons||Sb(C,v)}var l,v,w;return"touchstart"===b?(w=e(function(C){C.MSPOINTER_TYPE_TOUCH&&C.pointerType===C.MSPOINTER_TYPE_TOUCH&&na(C);Sb(C,c)}),a["_leaflet_touchstart"+d]=w,a.addEventListener(Tb,w,!1),Jc||(document.addEventListener(Tb,db,!0),document.addEventListener(Ub,Oa,!0),document.addEventListener(Vb,
Kc,!0),document.addEventListener(Wb,Kc,!0),Jc=!0)):"touchmove"===b?(v=c,a["_leaflet_touchmove"+d]=h,a.addEventListener(Ub,h,!1)):"touchend"===b&&(l=c,a["_leaflet_touchend"+d]=f,a.addEventListener(Vb,f,!1),a.addEventListener(Wb,f,!1)),this}function db(a){Pa[a.pointerId]=a}function Oa(a){Pa[a.pointerId]&&(Pa[a.pointerId]=a)}function Kc(a){delete Pa[a.pointerId]}function Sb(a,b){for(var c in a.touches=[],Pa)a.touches.push(Pa[c]);a.changedTouches=[a];b(a)}function Lc(a){return"string"==typeof a?document.getElementById(a):
a}function eb(a,b){var c,d=a.style[b]||a.currentStyle&&a.currentStyle[b];return d&&"auto"!==d||!document.defaultView||(d=(c=document.defaultView.getComputedStyle(a,null))?c[b]:null),"auto"===d?null:d}function T(a,b,c){a=document.createElement(a);return a.className=b||"",c&&c.appendChild(a),a}function Y(a){var b=a.parentNode;b&&b.removeChild(a)}function wb(a){for(;a.firstChild;)a.removeChild(a.firstChild)}function Qa(a){var b=a.parentNode;b&&b.lastChild!==a&&b.appendChild(a)}function Ra(a){var b=a.parentNode;
b&&b.firstChild!==a&&b.insertBefore(a,b.firstChild)}function Xb(a,b){if(void 0!==a.classList)return a.classList.contains(b);a=xb(a);return 0<a.length&&(new RegExp("(^|\\s)"+b+"(\\s|$)")).test(a)}function O(a,b){if(void 0!==a.classList){b=D(b);var c=0;for(var d=b.length;c<d;c++)a.classList.add(b[c])}else Xb(a,b)||Yb(a,((c=xb(a))?c+" ":"")+b)}function aa(a,b){void 0!==a.classList?a.classList.remove(b):Yb(a,t((" "+xb(a)+" ").replace(" "+b+" "," ")))}function Yb(a,b){void 0===a.className.baseVal?a.className=
b:a.className.baseVal=b}function xb(a){return a.correspondingElement&&(a=a.correspondingElement),void 0===a.className.baseVal?a.className:a.className.baseVal}function oa(a,b){if("opacity"in a.style)a.style.opacity=b;else if("filter"in a.style)a:{var c=!1;try{c=a.filters.item("DXImageTransform.Microsoft.Alpha")}catch(d){if(1===b)break a}b=Math.round(100*b);c?(c.Enabled=100!==b,c.Opacity=b):a.style.filter+=" progid:DXImageTransform.Microsoft.Alpha(opacity="+b+")"}}function yb(a){for(var b=document.documentElement.style,
c=0;c<a.length;c++)if(a[c]in b)return a[c];return!1}function Ka(a,b,c){b=b||new n(0,0);a.style[Zb]=($b?"translate("+b.x+"px,"+b.y+"px)":"translate3d("+b.x+"px,"+b.y+"px,0)")+(c?" scale("+c+")":"")}function ca(a,b){a._leaflet_pos=b;pa?Ka(a,b):(a.style.left=b.x+"px",a.style.top=b.y+"px")}function Fa(a){return a._leaflet_pos||new n(0,0)}function ac(){Q(window,"dragstart",na)}function bc(){ba(window,"dragstart",na)}function cc(a){for(;-1===a.tabIndex;)a=a.parentNode;a.style&&(zb(),dc=(Ab=a).style.outline,
a.style.outline="none",Q(window,"keydown",zb))}function zb(){Ab&&(Ab.style.outline=dc,dc=Ab=void 0,ba(window,"keydown",zb))}function Mc(a){for(;!((a=a.parentNode).offsetWidth&&a.offsetHeight||a===document.body););return a}function ec(a){var b=a.getBoundingClientRect();return{x:b.width/a.offsetWidth||1,y:b.height/a.offsetHeight||1,boundingClientRect:b}}function Q(a,b,c,d){if("object"==typeof b)for(var f in b)Bb(a,f,b[f],c);else{f=0;for(var h=(b=D(b)).length;f<h;f++)Bb(a,b[f],c,d)}return this}function ba(a,
b,c,d){if("object"==typeof b)for(var f in b)fc(a,f,b[f],c);else if(b){f=0;for(var h=(b=D(b)).length;f<h;f++)fc(a,b[f],c,d)}else{for(h in a[ra])fc(a,h,a[ra][h]);delete a[ra]}return this}function Bb(a,b,c,d){function f(W){if(sa){if(!W.isPrimary||"mouse"===W.pointerType)return}else if(1<W.touches.length)return;var ka=Date.now(),la=ka-(w||ka);C=W.touches?W.touches[0]:W;I=0<la&&250>=la;w=ka}function h(W){if(I&&!C.cancelBubble){if(sa){if("mouse"===W.pointerType)return;var ka,la={};for(ka in C)W=C[ka],la[ka]=
W&&W.bind?W.bind(C):W;C=la}C.type="dblclick";C.button=0;v(C);w=null}}var l=b+g(c)+(d?"_"+g(d):"");if(a[ra]&&a[ra][l])return this;var v,w,C,I,M=function(W){return c.call(d||a,W||window.event)},ia=M;sa&&0===b.indexOf("touch")?qa(a,b,M,l):wa&&"dblclick"===b&&(!sa||fb||gb)?(v=M,I=!1,a["_leaflet_"+Cb+l]=f,a["_leaflet_"+Db+l]=h,a["_leaflet_dblclick"+l]=v,a.addEventListener(Cb,f,!!Sa&&{passive:!1}),a.addEventListener(Db,h,!!Sa&&{passive:!1}),a.addEventListener("dblclick",v,!1)):"addEventListener"in a?"touchstart"===
b||"touchmove"===b||"wheel"===b||"mousewheel"===b?a.addEventListener(gc[b]||b,M,!!Sa&&{passive:!1}):"mouseenter"===b||"mouseleave"===b?(M=function(W){W=W||window.event;Eb(a,W)&&ia(W)},a.addEventListener(gc[b],M,!1)):a.addEventListener(b,ia,!1):"attachEvent"in a&&a.attachEvent("on"+b,M);a[ra]=a[ra]||{};a[ra][l]=M}function fc(a,b,c,d){var f,h,l,v;c=b+g(c)+(d?"_"+g(d):"");d=a[ra]&&a[ra][c];if(!d)return this;sa&&0===b.indexOf("touch")?(v=a["_leaflet_"+b+c],"touchstart"===b?a.removeEventListener(Tb,v,
!1):"touchmove"===b?a.removeEventListener(Ub,v,!1):"touchend"===b&&(a.removeEventListener(Vb,v,!1),a.removeEventListener(Wb,v,!1))):wa&&"dblclick"===b&&(!sa||fb||gb)?(f=a["_leaflet_"+Cb+c],h=a["_leaflet_"+Db+c],l=a["_leaflet_dblclick"+c],a.removeEventListener(Cb,f,!!Sa&&{passive:!1}),a.removeEventListener(Db,h,!!Sa&&{passive:!1}),a.removeEventListener("dblclick",l,!1)):"removeEventListener"in a?a.removeEventListener(gc[b]||b,d,!1):"detachEvent"in a&&a.detachEvent("on"+b,d);a[ra][c]=null}function La(a){return a.stopPropagation?
a.stopPropagation():a.originalEvent?a.originalEvent._stopped=!0:a.cancelBubble=!0,hc(a),this}function ic(a){return Bb(a,"wheel",La),this}function hb(a){return Q(a,"mousedown touchstart dblclick",La),Bb(a,"click",jc),this}function na(a){return a.preventDefault?a.preventDefault():a.returnValue=!1,this}function za(a){return na(a),La(a),this}function Nc(a,b){if(!b)return new n(a.clientX,a.clientY);var c=ec(b),d=c.boundingClientRect;return new n((a.clientX-d.left)/c.x-b.clientLeft,(a.clientY-d.top)/c.y-
b.clientTop)}function Oc(a){return fb?a.wheelDeltaY/2:a.deltaY&&0===a.deltaMode?-a.deltaY/Id:a.deltaY&&1===a.deltaMode?20*-a.deltaY:a.deltaY&&2===a.deltaMode?60*-a.deltaY:a.deltaX||a.deltaZ?0:a.wheelDelta?(a.wheelDeltaY||a.wheelDelta)/2:a.detail&&32765>Math.abs(a.detail)?20*-a.detail:a.detail?a.detail/-32765*60:0}function jc(a){kc[a.type]=!0}function hc(a){var b=kc[a.type];return kc[a.type]=!1,b}function Eb(a,b){b=b.relatedTarget;if(!b)return!0;try{for(;b&&b!==a;)b=b.parentNode}catch(c){return!1}return b!==
a}function ib(a){return new ta(a)}function Pc(a,b){if(!b||!a.length)return a.slice();b*=b;return a=function(c,d){var f=c.length,h=new ("undefined"!=typeof Uint8Array?Uint8Array:Array)(f);h[0]=h[f-1]=1;(function W(w,C,I,M,ia){var ka,la,ja=0;for(la=M+1;la<=ia-1;la++){var Fb=jb(w[la],w[M],w[ia],!0);ja<Fb&&(ka=la,ja=Fb)}I<ja&&(C[ka]=1,W(w,C,I,M,ka),W(w,C,I,ka,ia))})(c,h,d,0,f-1);var l=[];for(d=0;d<f;d++)h[d]&&l.push(c[d]);return l}(a=function(c,d){for(var f=[c[0]],h=1,l=0,v=c.length;h<v;h++){var w=c[h],
C=c[l],I=C.x-w.x;w=C.y-w.y;I*I+w*w>d&&(f.push(c[h]),l=h)}l<v-1&&f.push(c[v-1]);return f}(a,b),b)}function Qc(a,b,c){return Math.sqrt(jb(a,b,c,!0))}function Rc(a,b,c,d,f){var h,l=d?Sc:Ma(a,c),v=Ma(b,c);for(Sc=v;;){if(!(l|v))return[a,b];if(l&v)return!1;var w=Ma(h=Gb(a,b,d=l||v,c,f),c);d===l?(a=h,l=w):(b=h,v=w)}}function Gb(a,b,c,d,f){var h,l,v=b.x-a.x;b=b.y-a.y;var w=d.min;d=d.max;return 8&c?(h=a.x+v*(d.y-a.y)/b,l=d.y):4&c?(h=a.x+v*(w.y-a.y)/b,l=w.y):2&c?(h=d.x,l=a.y+b*(d.x-a.x)/v):1&c&&(h=w.x,l=a.y+
b*(w.x-a.x)/v),new n(h,l,f)}function Ma(a,b){var c=0;return a.x<b.min.x?c|=1:a.x>b.max.x&&(c|=2),a.y<b.min.y?c|=4:a.y>b.max.y&&(c|=8),c}function jb(a,b,c,d){var f,h=b.x;b=b.y;var l=c.x-h,v=c.y-b,w=l*l+v*v;return 0<w&&(1<(f=((a.x-h)*l+(a.y-b)*v)/w)?(h=c.x,b=c.y):0<f&&(h+=l*f,b+=v*f)),l=a.x-h,v=a.y-b,d?l*l+v*v:new n(h,b)}function Aa(a){return!va(a[0])||"object"!=typeof a[0][0]&&void 0!==a[0][0]}function Tc(a){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),Aa(a)}
function Uc(a,b,c){for(var d,f,h,l,v,w,C=[1,4,2,8],I=0,M=a.length;I<M;I++)a[I]._code=Ma(a[I],b);for(h=0;4>h;h++){v=C[h];d=[];I=0;for(f=(M=a.length)-1;I<M;f=I++)l=a[I],f=a[f],l._code&v?f._code&v||((w=Gb(f,l,v,b,c))._code=Ma(w,b),d.push(w)):(f._code&v&&((w=Gb(f,l,v,b,c))._code=Ma(w,b),d.push(w)),d.push(l));a=d}return a}function lc(a,b){var c,d="Feature"===a.type?a.geometry:a,f=d?d.coordinates:null,h=[],l=b&&b.pointToLayer,v=b&&b.coordsToLatLng||mc;if(!f&&!d)return null;switch(d.type){case "Point":return h=
v(f),l?l(a,h):new kb(h,b&&b.markersInheritOptions&&b);case "MultiPoint":var w=0;for(c=f.length;w<c;w++){var C=v(f[w]);d=h;var I=d.push,M=b;C=l?l(a,C):new kb(C,M&&M.markersInheritOptions&&M);I.call(d,C)}return new Ta(h);case "LineString":case "MultiLineString":return w=Hb(f,"LineString"===d.type?0:1,v),new Ba(w,b);case "Polygon":case "MultiPolygon":return w=Hb(f,"Polygon"===d.type?1:2,v),new Ua(w,b);case "GeometryCollection":w=0;for(c=d.geometries.length;w<c;w++)(l=lc({geometry:d.geometries[w],type:"Feature",
properties:a.properties},b))&&h.push(l);return new Ta(h);default:throw Error("Invalid GeoJSON object.");}}function mc(a){return new x(a[1],a[0],a[2])}function Hb(a,b,c){for(var d,f=[],h=0,l=a.length;h<l;h++)d=b?Hb(a[h],b-1,c):(c||mc)(a[h]),f.push(d);return f}function nc(a,b){return b="number"==typeof b?b:6,void 0!==a.alt?[m(a.lng,b),m(a.lat,b),m(a.alt,b)]:[m(a.lng,b),m(a.lat,b)]}function Ib(a,b,c,d){for(var f=[],h=0,l=a.length;h<l;h++)f.push(b?Ib(a[h],b-1,c,d):nc(a[h],d));return!b&&c&&f.push(f[0]),
f}function Va(a,b){return a.feature?B({},a.feature,{geometry:b}):Jb(b)}function Jb(a){return"Feature"===a.type||"FeatureCollection"===a.type?a:{type:"Feature",properties:{},geometry:a}}function Vc(a,b){return new Ca(a,b)}function Wc(a,b){return new Wa(a,b)}function Xc(a){return Yc?new Zc(a):null}function $c(a){return vb||Kb?new lb(a):null}var ub=Object.create||function(a){return K.prototype=a,new K},Gc=0,Hd=/\{ *([\w_-]+) *\}/g,va=Array.isArray||function(a){return"[object Array]"===Object.prototype.toString.call(a)},
Hc=0,Rb=window.requestAnimationFrame||J("RequestAnimationFrame")||R,Ic=window.cancelAnimationFrame||J("CancelAnimationFrame")||J("CancelRequestAnimationFrame")||function(a){window.clearTimeout(a)},Jd={extend:B,create:ub,bind:e,lastId:Gc,stamp:g,throttle:k,wrapNum:p,falseFn:u,formatNum:m,trim:t,splitWords:D,setOptions:E,getParamString:H,template:N,isArray:va,indexOf:X,emptyImageUrl:"data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=",requestFn:Rb,cancelFn:Ic,requestAnimFrame:P,cancelAnimFrame:V};
U.extend=function(a){function b(){this.initialize&&this.initialize.apply(this,arguments);this.callInitHooks()}var c=b.__super__=this.prototype,d=ub(c),f;for(f in(d.constructor=b).prototype=d,this)Object.prototype.hasOwnProperty.call(this,f)&&"prototype"!==f&&"__super__"!==f&&(b[f]=this[f]);return a.statics&&(B(b,a.statics),delete a.statics),a.includes&&(function(h){if("undefined"!=typeof L&&L&&L.Mixin){h=va(h)?h:[h];for(var l=0;l<h.length;l++)h[l]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",
Error().stack)}}(a.includes),B.apply(null,[d].concat(a.includes)),delete a.includes),d.options&&(a.options=B(ub(d.options),a.options)),B(d,a),d._initHooks=[],d.callInitHooks=function(){if(!this._initHooksCalled){c.callInitHooks&&c.callInitHooks.call(this);this._initHooksCalled=!0;for(var h=0,l=d._initHooks.length;h<l;h++)d._initHooks[h].call(this)}},b};U.include=function(a){return B(this.prototype,a),this};U.mergeOptions=function(a){return B(this.prototype.options,a),this};U.addInitHook=function(a){var b=
Array.prototype.slice.call(arguments,1);return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push("function"==typeof a?a:function(){this[a].apply(this,b)}),this};var ma={on:function(a,b,c){if("object"==typeof a)for(var d in a)this._on(d,a[d],b);else{d=0;for(var f=(a=D(a)).length;d<f;d++)this._on(a[d],b,c)}return this},off:function(a,b,c){if(a)if("object"==typeof a)for(var d in a)this._off(d,a[d],b);else{d=0;for(var f=(a=D(a)).length;d<f;d++)this._off(a[d],b,c)}else delete this._events;
return this},_on:function(a,b,c){this._events=this._events||{};var d=this._events[a];d||(d=[],this._events[a]=d);c===this&&(c=void 0);a={fn:b,ctx:c};for(var f=0,h=d.length;f<h;f++)if(d[f].fn===b&&d[f].ctx===c)return;d.push(a)},_off:function(a,b,c){var d,f;if(this._events&&(d=this._events[a]))if(b){if(c===this&&(c=void 0),d){var h=0;for(f=d.length;h<f;h++){var l=d[h];if(l.ctx===c&&l.fn===b)return l.fn=u,this._firingCount&&(this._events[a]=d=d.slice()),void d.splice(h,1)}}}else{h=0;for(f=d.length;h<
f;h++)d[h].fn=u;delete this._events[a]}},fire:function(a,b,c){if(!this.listens(a,c))return this;b=B({},b,{type:a,target:this,sourceTarget:b&&b.sourceTarget||this});if(this._events&&(a=this._events[a])){this._firingCount=this._firingCount+1||1;for(var d=0,f=a.length;d<f;d++){var h=a[d];h.fn.call(h.ctx||this,b)}this._firingCount--}return c&&this._propagateEvent(b),this},listens:function(a,b){var c=this._events&&this._events[a];if(c&&c.length)return!0;if(b)for(var d in this._eventParents)if(this._eventParents[d].listens(a,
b))return!0;return!1},once:function(a,b,c){if("object"==typeof a){for(var d in a)this.once(d,a[d],b);return this}var f=e(function(){this.off(a,b,c).off(a,f,c)},this);return this.on(a,b,c).on(a,f,c)},addEventParent:function(a){return this._eventParents=this._eventParents||{},this._eventParents[g(a)]=a,this},removeEventParent:function(a){return this._eventParents&&delete this._eventParents[g(a)],this},_propagateEvent:function(a){for(var b in this._eventParents)this._eventParents[b].fire(a.type,B({layer:a.target,
propagatedFrom:a.target},a),!0)}};ma.addEventListener=ma.on;ma.removeEventListener=ma.clearAllEventListeners=ma.off;ma.addOneTimeEventListener=ma.once;ma.fireEvent=ma.fire;ma.hasEventListeners=ma.listens;var mb=U.extend(ma),ad=Math.trunc||function(a){return 0<a?Math.floor(a):Math.ceil(a)};n.prototype={clone:function(){return new n(this.x,this.y)},add:function(a){return this.clone()._add(r(a))},_add:function(a){return this.x+=a.x,this.y+=a.y,this},subtract:function(a){return this.clone()._subtract(r(a))},
_subtract:function(a){return this.x-=a.x,this.y-=a.y,this},divideBy:function(a){return this.clone()._divideBy(a)},_divideBy:function(a){return this.x/=a,this.y/=a,this},multiplyBy:function(a){return this.clone()._multiplyBy(a)},_multiplyBy:function(a){return this.x*=a,this.y*=a,this},scaleBy:function(a){return new n(this.x*a.x,this.y*a.y)},unscaleBy:function(a){return new n(this.x/a.x,this.y/a.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=
Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=ad(this.x),this.y=ad(this.y),this},distanceTo:function(a){var b=(a=r(a)).x-this.x;a=a.y-this.y;return Math.sqrt(b*b+a*a)},equals:function(a){return(a=
r(a)).x===this.x&&a.y===this.y},contains:function(a){return a=r(a),Math.abs(a.x)<=Math.abs(this.x)&&Math.abs(a.y)<=Math.abs(this.y)},toString:function(){return"Point("+m(this.x)+", "+m(this.y)+")"}};y.prototype={extend:function(a){return a=r(a),this.min||this.max?(this.min.x=Math.min(a.x,this.min.x),this.max.x=Math.max(a.x,this.max.x),this.min.y=Math.min(a.y,this.min.y),this.max.y=Math.max(a.y,this.max.y)):(this.min=a.clone(),this.max=a.clone()),this},getCenter:function(a){return new n((this.min.x+
this.max.x)/2,(this.min.y+this.max.y)/2,a)},getBottomLeft:function(){return new n(this.min.x,this.max.y)},getTopRight:function(){return new n(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(a){var b,c;return(a=("number"==typeof a[0]||a instanceof n?r:F)(a))instanceof y?(b=a.min,c=a.max):b=c=a,b.x>=this.min.x&&c.x<=this.max.x&&b.y>=this.min.y&&c.y<=this.max.y},intersects:function(a){a=
F(a);var b=this.min,c=this.max,d=a.min;a=a.max;var f=a.y>=b.y&&d.y<=c.y;return a.x>=b.x&&d.x<=c.x&&f},overlaps:function(a){a=F(a);var b=this.min,c=this.max,d=a.min;a=a.max;var f=a.y>b.y&&d.y<c.y;return a.x>b.x&&d.x<c.x&&f},isValid:function(){return!(!this.min||!this.max)}};z.prototype={extend:function(a){var b,c=this._southWest,d=this._northEast;if(a instanceof x)var f=b=a;else{if(!(a instanceof z))return a?this.extend(G(a)||A(a)):this;if(b=a._southWest,f=a._northEast,!b||!f)return this}return c||
d?(c.lat=Math.min(b.lat,c.lat),c.lng=Math.min(b.lng,c.lng),d.lat=Math.max(f.lat,d.lat),d.lng=Math.max(f.lng,d.lng)):(this._southWest=new x(b.lat,b.lng),this._northEast=new x(f.lat,f.lng)),this},pad:function(a){var b=this._southWest,c=this._northEast,d=Math.abs(b.lat-c.lat)*a;a*=Math.abs(b.lng-c.lng);return new z(new x(b.lat-d,b.lng-a),new x(c.lat+d,c.lng+a))},getCenter:function(){return new x((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},
getNorthEast:function(){return this._northEast},getNorthWest:function(){return new x(this.getNorth(),this.getWest())},getSouthEast:function(){return new x(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(a){a=("number"==typeof a[0]||a instanceof x||"lat"in a?G:A)(a);var b,c,d=this._southWest,f=this._northEast;
return a instanceof z?(b=a.getSouthWest(),c=a.getNorthEast()):b=c=a,b.lat>=d.lat&&c.lat<=f.lat&&b.lng>=d.lng&&c.lng<=f.lng},intersects:function(a){a=A(a);var b=this._southWest,c=this._northEast,d=a.getSouthWest();a=a.getNorthEast();var f=a.lng>=b.lng&&d.lng<=c.lng;return a.lat>=b.lat&&d.lat<=c.lat&&f},overlaps:function(a){a=A(a);var b=this._southWest,c=this._northEast,d=a.getSouthWest();a=a.getNorthEast();var f=a.lng>b.lng&&d.lng<c.lng;return a.lat>b.lat&&d.lat<c.lat&&f},toBBoxString:function(){return[this.getWest(),
this.getSouth(),this.getEast(),this.getNorth()].join()},equals:function(a,b){return!!a&&(a=A(a),this._southWest.equals(a.getSouthWest(),b)&&this._northEast.equals(a.getNorthEast(),b))},isValid:function(){return!(!this._southWest||!this._northEast)}};var Lb,Da={latLngToPoint:function(a,b){a=this.projection.project(a);b=this.scale(b);return this.transformation._transform(a,b)},pointToLatLng:function(a,b){b=this.scale(b);a=this.transformation.untransform(a,b);return this.projection.unproject(a)},project:function(a){return this.projection.project(a)},
unproject:function(a){return this.projection.unproject(a)},scale:function(a){return 256*Math.pow(2,a)},zoom:function(a){return Math.log(a/256)/Math.LN2},getProjectedBounds:function(a){if(this.infinite)return null;var b=this.projection.bounds;a=this.scale(a);return new y(this.transformation.transform(b.min,a),this.transformation.transform(b.max,a))},infinite:!(x.prototype={equals:function(a,b){return!!a&&(a=G(a),Math.max(Math.abs(this.lat-a.lat),Math.abs(this.lng-a.lng))<=(void 0===b?1E-9:b))},toString:function(a){return"LatLng("+
m(this.lat,a)+", "+m(this.lng,a)+")"},distanceTo:function(a){return Ga.distance(this,G(a))},wrap:function(){return Ga.wrapLatLng(this)},toBounds:function(a){a=180*a/40075017;var b=a/Math.cos(Math.PI/180*this.lat);return A([this.lat-a,this.lng-b],[this.lat+a,this.lng+b])},clone:function(){return new x(this.lat,this.lng,this.alt)}}),wrapLatLng:function(a){var b=this.wrapLng?p(a.lng,this.wrapLng,!0):a.lng;return new x(this.wrapLat?p(a.lat,this.wrapLat,!0):a.lat,b,a.alt)},wrapLatLngBounds:function(a){var b=
a.getCenter(),c=this.wrapLatLng(b),d=b.lat-c.lat;b=b.lng-c.lng;if(0==d&&0==b)return a;c=a.getSouthWest();a=a.getNorthEast();return new z(new x(c.lat-d,c.lng-b),new x(a.lat-d,a.lng-b))}},Ga=B({},Da,{wrapLng:[-180,180],R:6371E3,distance:function(a,b){var c=Math.PI/180,d=Math.sin((b.lat-a.lat)*c/2),f=Math.sin((b.lng-a.lng)*c/2);a=d*d+Math.cos(a.lat*c)*Math.cos(b.lat*c)*f*f;return 2*this.R*Math.atan2(Math.sqrt(a),Math.sqrt(1-a))}}),oc={R:6378137,MAX_LATITUDE:85.0511287798,project:function(a){var b=Math.PI/
180,c=this.MAX_LATITUDE;c=Math.sin(Math.max(Math.min(c,a.lat),-c)*b);return new n(this.R*a.lng*b,this.R*Math.log((1+c)/(1-c))/2)},unproject:function(a){var b=180/Math.PI;return new x((2*Math.atan(Math.exp(a.y/this.R))-Math.PI/2)*b,a.x*b/this.R)},bounds:new y([-(Lb=6378137*Math.PI),-Lb],[Lb,Lb])};fa.prototype={transform:function(a,b){return this._transform(a.clone(),b)},_transform:function(a,b){return b=b||1,a.x=b*(this._a*a.x+this._b),a.y=b*(this._c*a.y+this._d),a},untransform:function(a,b){return b=
b||1,new n((a.x/b-this._b)/this._a,(a.y/b-this._d)/this._c)}};var bd,pc=B({},Ga,{code:"EPSG:3857",projection:oc,transformation:da(bd=.5/(Math.PI*oc.R),.5,-bd,.5)}),Kd=B({},pc,{code:"EPSG:900913"}),qc=document.documentElement.style,Mb="ActiveXObject"in window,Xa=Mb&&!document.addEventListener,fb="msLaunchUri"in navigator&&!("documentMode"in document),rc=Z("webkit"),nb=Z("android"),ob=Z("android 2")||Z("android 3"),Ld=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),cd=nb&&Z("Google")&&
537>Ld&&!("AudioNode"in window),sc=!!window.opera,tc=!fb&&Z("chrome"),uc=Z("gecko")&&!rc&&!sc&&!Mb,gb=!tc&&Z("safari"),dd=Z("phantom"),ed="OTransition"in qc,fd=0===navigator.platform.indexOf("Win"),$b=Mb&&"transition"in qc,vc="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!ob,gd="MozPerspective"in qc,pa=!window.L_DISABLE_3D&&($b||vc||gd)&&!ed&&!dd,Ya="undefined"!=typeof orientation||Z("mobile"),Md=Ya&&rc,Nd=Ya&&vc,Ha=!window.PointerEvent&&window.MSPointerEvent,sa=!(!window.PointerEvent&&
!Ha),wa=!window.L_NO_TOUCH&&(sa||"ontouchstart"in window||window.DocumentTouch&&document instanceof window.DocumentTouch),hd=Ya&&sc,Od=Ya&&uc,Ia=1<(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI),Sa=function(){var a=!1;try{var b=Object.defineProperty({},"passive",{get:function(){a=!0}});window.addEventListener("testPassiveEventSupport",u,b);window.removeEventListener("testPassiveEventSupport",u,b)}catch(c){}return a}(),Yc=!!document.createElement("canvas").getContext,
vb=!(!document.createElementNS||!ha("svg").createSVGRect),Kb=!vb&&function(){try{var a=document.createElement("div");a.innerHTML='<v:shape adj="1"/>';var b=a.firstChild;return b.style.behavior="url(#default#VML)",b&&"object"==typeof b.adj}catch(c){return!1}}(),Pd={ie:Mb,ielt9:Xa,edge:fb,webkit:rc,android:nb,android23:ob,androidStock:cd,opera:sc,chrome:tc,gecko:uc,safari:gb,phantom:dd,opera12:ed,win:fd,ie3d:$b,webkit3d:vc,gecko3d:gd,any3d:pa,mobile:Ya,mobileWebkit:Md,mobileWebkit3d:Nd,msPointer:Ha,
pointer:sa,touch:wa,mobileOpera:hd,mobileGecko:Od,retina:Ia,passiveEvents:Sa,canvas:Yc,svg:vb,vml:Kb},Tb=Ha?"MSPointerDown":"pointerdown",Ub=Ha?"MSPointerMove":"pointermove",Vb=Ha?"MSPointerUp":"pointerup",Wb=Ha?"MSPointerCancel":"pointercancel",Pa={},Jc=!1,Cb=Ha?"MSPointerDown":sa?"pointerdown":"touchstart",Db=Ha?"MSPointerUp":sa?"pointerup":"touchend",wc,Za,pb,Ab,dc,Zb=yb(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),qb=yb(["webkitTransition","transition","OTransition",
"MozTransition","msTransition"]),id="webkitTransition"===qb||"OTransition"===qb?qb+"End":"transitionend";var xc="onselectstart"in document?(pb=function(){Q(window,"selectstart",na)},function(){ba(window,"selectstart",na)}):(Za=yb(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]),pb=function(){var a;Za&&(a=document.documentElement.style,wc=a[Za],a[Za]="none")},function(){Za&&(document.documentElement.style[Za]=wc,wc=void 0)});var Qd={TRANSFORM:Zb,TRANSITION:qb,TRANSITION_END:id,
get:Lc,getStyle:eb,create:T,remove:Y,empty:wb,toFront:Qa,toBack:Ra,hasClass:Xb,addClass:O,removeClass:aa,setClass:Yb,getClass:xb,setOpacity:oa,testProp:yb,setTransform:Ka,setPosition:ca,getPosition:Fa,disableTextSelection:pb,enableTextSelection:xc,disableImageDrag:ac,enableImageDrag:bc,preventOutline:cc,restoreOutline:zb,getSizedParentNode:Mc,getScale:ec},ra="_leaflet_events",gc={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"},Id=fd&&tc?2*window.devicePixelRatio:
uc?window.devicePixelRatio:1,kc={},Rd={on:Q,off:ba,stopPropagation:La,disableScrollPropagation:ic,disableClickPropagation:hb,preventDefault:na,stop:za,getMousePosition:Nc,getWheelDelta:Oc,fakeStop:jc,skipped:hc,isExternalTarget:Eb,addListener:Q,removeListener:ba},jd=mb.extend({run:function(a,b,c,d){this.stop();this._el=a;this._inProgress=!0;this._duration=c||.25;this._easeOutPower=1/Math.max(d||.5,.2);this._startPos=Fa(a);this._offset=b.subtract(this._startPos);this._startTime=+new Date;this.fire("start");
this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=P(this._animate,this);this._step()},_step:function(a){var b=new Date-this._startTime,c=1E3*this._duration;b<c?this._runFrame(this._easeOut(b/c),a):(this._runFrame(1),this._complete())},_runFrame:function(a,b){a=this._startPos.add(this._offset.multiplyBy(a));b&&a._round();ca(this._el,a);this.fire("step")},_complete:function(){V(this._animId);this._inProgress=!1;this.fire("end")},_easeOut:function(a){return 1-
Math.pow(1-a,this._easeOutPower)}}),S=mb.extend({options:{crs:pc,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(a,b){b=E(this,b);this._handlers=[];this._layers={};this._zoomBoundLayers={};this._sizeChanged=!0;this._initContainer(a);this._initLayout();this._onResize=e(this._onResize,
this);this._initEvents();b.maxBounds&&this.setMaxBounds(b.maxBounds);void 0!==b.zoom&&(this._zoom=this._limitZoom(b.zoom));b.center&&void 0!==b.zoom&&this.setView(G(b.center),b.zoom,{reset:!0});this.callInitHooks();(this._zoomAnimated=qb&&pa&&!hd&&this.options.zoomAnimation)&&(this._createAnimProxy(),Q(this._proxy,id,this._catchTransitionEnd,this));this._addLayers(this.options.layers)},setView:function(a,b,c){return(b=void 0===b?this._zoom:this._limitZoom(b),a=this._limitCenter(G(a),b,this.options.maxBounds),
c=c||{},this._stop(),this._loaded&&!c.reset&&!0!==c)&&(void 0!==c.animate&&(c.zoom=B({animate:c.animate},c.zoom),c.pan=B({animate:c.animate,duration:c.duration},c.pan)),this._zoom!==b?this._tryAnimatedZoom&&this._tryAnimatedZoom(a,b,c.zoom):this._tryAnimatedPan(a,c.pan))?(clearTimeout(this._sizeTimer),this):(this._resetView(a,b),this)},setZoom:function(a,b){return this._loaded?this.setView(this.getCenter(),a,{zoom:b}):(this._zoom=a,this)},zoomIn:function(a,b){return a=a||(pa?this.options.zoomDelta:
1),this.setZoom(this._zoom+a,b)},zoomOut:function(a,b){return a=a||(pa?this.options.zoomDelta:1),this.setZoom(this._zoom-a,b)},setZoomAround:function(a,b,c){var d=this.getZoomScale(b),f=this.getSize().divideBy(2);a=(a instanceof n?a:this.latLngToContainerPoint(a)).subtract(f).multiplyBy(1-1/d);f=this.containerPointToLatLng(f.add(a));return this.setView(f,b,{zoom:c})},_getBoundsCenterZoom:function(a,b){b=b||{};a=a.getBounds?a.getBounds():A(a);var c=r(b.paddingTopLeft||b.padding||[0,0]),d=r(b.paddingBottomRight||
b.padding||[0,0]),f=this.getBoundsZoom(a,!1,c.add(d));if((f="number"==typeof b.maxZoom?Math.min(b.maxZoom,f):f)===1/0)return{center:a.getCenter(),zoom:f};b=d.subtract(c).divideBy(2);c=this.project(a.getSouthWest(),f);a=this.project(a.getNorthEast(),f);return{center:this.unproject(c.add(a).divideBy(2).add(b),f),zoom:f}},fitBounds:function(a,b){if(!(a=A(a)).isValid())throw Error("Bounds are not valid.");a=this._getBoundsCenterZoom(a,b);return this.setView(a.center,a.zoom,b)},fitWorld:function(a){return this.fitBounds([[-90,
-180],[90,180]],a)},panTo:function(a,b){return this.setView(a,this._zoom,{pan:b})},panBy:function(a,b){return b=b||{},(a=r(a).round()).x||a.y?(!0===b.animate||this.getSize().contains(a)?(this._panAnim||(this._panAnim=new jd,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),b.noMoveStart||this.fire("movestart"),!1!==b.animate?(O(this._mapPane,"leaflet-pan-anim"),c=this._getMapPanePos().subtract(a).round(),this._panAnim.run(this._mapPane,c,b.duration||.25,b.easeLinearity)):
(this._rawPanBy(a),this.fire("move").fire("moveend"))):this._resetView(this.unproject(this.project(this.getCenter()).add(a)),this.getZoom()),this):this.fire("moveend");var c},flyTo:function(a,b,c){function d(ja){ja=(I*I-C*C+2.0164*(ja?-1:1)*2.0164*M*M)/(4.0328*(ja?I:C)*M);ja=Math.sqrt(ja*ja+1)-ja;return 1E-9>ja?-18:Math.log(ja)}function f(ja){return(Math.exp(ja)+Math.exp(-ja))/2}if(!1===(c=c||{}).animate||!pa)return this.setView(a,b,c);this._stop();var h=this.project(this.getCenter()),l=this.project(a),
v=this.getSize(),w=this._zoom;a=G(a);b=void 0===b?w:b;var C=Math.max(v.x,v.y),I=C*this.getZoomScale(w,b),M=l.distanceTo(h)||1,ia=d(0),W=Date.now(),ka=(d(1)-ia)/1.42,la=c.duration?1E3*c.duration:800*ka;return this._moveStart(!0,c.noMoveStart),function Fb(){var Nb=(Date.now()-W)/la,kd=(1-Math.pow(1-Nb,1.5))*ka;if(1>=Nb){this._flyToFrame=P(Fb,this);Nb=this._move;var Sd=this.unproject,Td=h.add,ld=l.subtract(h),Ud=ld.multiplyBy;a:{var yc=f(ia);var nd=md=ia+1.42*kd;yc=C*(yc*((Math.exp(nd)-Math.exp(-nd))/
2/f(md))-(Math.exp(ia)-Math.exp(-ia))/2)/2.0164;break a;var md}Nb.call(this,Sd.call(this,Td.call(h,Ud.call(ld,yc/M)),w),this.getScaleZoom(C/(C*(f(ia)/f(ia+1.42*kd))),w),{flyTo:!0})}else this._move(a,b)._moveEnd(!0)}.call(this),this},flyToBounds:function(a,b){a=this._getBoundsCenterZoom(a,b);return this.flyTo(a.center,a.zoom,b)},setMaxBounds:function(a){return(a=A(a)).isValid()?(this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this.options.maxBounds=a,this._loaded&&this._panInsideMaxBounds(),
this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this.off("moveend",this._panInsideMaxBounds))},setMinZoom:function(a){var b=this.options.minZoom;return this.options.minZoom=a,this._loaded&&b!==a&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(a):this},setMaxZoom:function(a){var b=this.options.maxZoom;return this.options.maxZoom=a,this._loaded&&b!==a&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(a):this},
panInsideBounds:function(a,b){this._enforcingBounds=!0;var c=this.getCenter();a=this._limitCenter(c,this._zoom,A(a));return c.equals(a)||this.panTo(a,b),this._enforcingBounds=!1,this},panInside:function(a,b){var c,d,f=r((b=b||{}).paddingTopLeft||b.padding||[0,0]),h=r(b.paddingBottomRight||b.padding||[0,0]),l=this.getCenter();l=this.project(l);a=this.project(a);var v=this.getPixelBounds(),w=v.getSize().divideBy(2);v=F([v.min.add(f),v.max.subtract(h)]);return v.contains(a)||(this._enforcingBounds=!0,
c=l.subtract(a),d=r(a.x+c.x,a.y+c.y),(a.x<v.min.x||a.x>v.max.x)&&(d.x=l.x-c.x,0<c.x?d.x+=w.x-f.x:d.x-=w.x-h.x),(a.y<v.min.y||a.y>v.max.y)&&(d.y=l.y-c.y,0<c.y?d.y+=w.y-f.y:d.y-=w.y-h.y),this.panTo(this.unproject(d),b),this._enforcingBounds=!1),this},invalidateSize:function(a){if(!this._loaded)return this;a=B({animate:!1,pan:!0},!0===a?{animate:!0}:a);var b=this.getSize();this._sizeChanged=!0;this._lastCenter=null;var c=this.getSize(),d=b.divideBy(2).round(),f=c.divideBy(2).round();d=d.subtract(f);
return d.x||d.y?(a.animate&&a.pan?this.panBy(d):(a.pan&&this._rawPanBy(d),this.fire("move"),a.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(e(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:b,newSize:c})):this},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(a){if(a=this._locateOptions=B({timeout:1E4,watch:!1},a),!("geolocation"in navigator))return this._handleGeolocationError({code:0,
message:"Geolocation not supported."}),this;var b=e(this._handleGeolocationResponse,this),c=e(this._handleGeolocationError,this);return a.watch?this._locationWatchId=navigator.geolocation.watchPosition(b,c,a):navigator.geolocation.getCurrentPosition(b,c,a),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(a){var b=
a.code;a=a.message||(1===b?"permission denied":2===b?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld();this.fire("locationerror",{code:b,message:"Geolocation error: "+a+"."})},_handleGeolocationResponse:function(a){var b,c=new x(a.coords.latitude,a.coords.longitude),d=c.toBounds(2*a.coords.accuracy),f=this._locateOptions;f.setView&&(b=this.getBoundsZoom(d),this.setView(c,f.maxZoom?Math.min(b,f.maxZoom):b));b={latlng:c,bounds:d,timestamp:a.timestamp};for(var h in a.coords)"number"==
typeof a.coords[h]&&(b[h]=a.coords[h]);this.fire("locationfound",b)},addHandler:function(a,b){if(!b)return this;b=this[a]=new b(this);return this._handlers.push(b),this.options[a]&&b.enable(),this},remove:function(){if(this._initEvents(!0),this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch(b){this._containerId=this._container._leaflet_id=
void 0}for(var a in void 0!==this._locationWatchId&&this.stopLocate(),this._stop(),Y(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(V(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload"),this._layers)this._layers[a].remove();for(a in this._panes)Y(this._panes[a]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(a,b){b=T("div","leaflet-pane"+(a?" leaflet-"+
a.replace("Pane","")+"-pane":""),b||this._mapPane);return a&&(this._panes[a]=b),b},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter:this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var a=this.getPixelBounds();return new z(this.unproject(a.getBottomLeft()),this.unproject(a.getTopRight()))},getMinZoom:function(){return void 0===this.options.minZoom?this._layersMinZoom||0:this.options.minZoom},
getMaxZoom:function(){return void 0===this.options.maxZoom?void 0===this._layersMaxZoom?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(a,b,c){a=A(a);c=r(c||[0,0]);var d=this.getZoom()||0,f=this.getMinZoom(),h=this.getMaxZoom(),l=a.getNorthWest();a=a.getSouthEast();c=this.getSize().subtract(c);var v=F(this.project(a,d),this.project(l,d)).getSize();l=pa?this.options.zoomSnap:1;a=c.x/v.x;c=c.y/v.y;d=this.getScaleZoom(b?Math.max(a,c):Math.min(a,c),d);return l&&(d=l/100*Math.round(d/
(l/100)),d=b?Math.ceil(d/l)*l:Math.floor(d/l)*l),Math.max(f,Math.min(h,d))},getSize:function(){return this._size&&!this._sizeChanged||(this._size=new n(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(a,b){a=this._getTopLeftPoint(a,b);return new y(a,a.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(a){return this.options.crs.getProjectedBounds(void 0===
a?this.getZoom():a)},getPane:function(a){return"string"==typeof a?this._panes[a]:a},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(a,b){var c=this.options.crs;return b=void 0===b?this._zoom:b,c.scale(a)/c.scale(b)},getScaleZoom:function(a,b){var c=this.options.crs;b=void 0===b?this._zoom:b;a=c.zoom(a*c.scale(b));return isNaN(a)?1/0:a},project:function(a,b){return b=void 0===b?this._zoom:b,this.options.crs.latLngToPoint(G(a),b)},unproject:function(a,
b){return b=void 0===b?this._zoom:b,this.options.crs.pointToLatLng(r(a),b)},layerPointToLatLng:function(a){a=r(a).add(this.getPixelOrigin());return this.unproject(a)},latLngToLayerPoint:function(a){return this.project(G(a))._round()._subtract(this.getPixelOrigin())},wrapLatLng:function(a){return this.options.crs.wrapLatLng(G(a))},wrapLatLngBounds:function(a){return this.options.crs.wrapLatLngBounds(A(a))},distance:function(a,b){return this.options.crs.distance(G(a),G(b))},containerPointToLayerPoint:function(a){return r(a).subtract(this._getMapPanePos())},
layerPointToContainerPoint:function(a){return r(a).add(this._getMapPanePos())},containerPointToLatLng:function(a){a=this.containerPointToLayerPoint(r(a));return this.layerPointToLatLng(a)},latLngToContainerPoint:function(a){return this.layerPointToContainerPoint(this.latLngToLayerPoint(G(a)))},mouseEventToContainerPoint:function(a){return Nc(a,this._container)},mouseEventToLayerPoint:function(a){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(a))},mouseEventToLatLng:function(a){return this.layerPointToLatLng(this.mouseEventToLayerPoint(a))},
_initContainer:function(a){a=this._container=Lc(a);if(!a)throw Error("Map container not found.");if(a._leaflet_id)throw Error("Map container is already initialized.");Q(a,"scroll",this._onScroll,this);this._containerId=g(a)},_initLayout:function(){var a=this._container;this._fadeAnimated=this.options.fadeAnimation&&pa;O(a,"leaflet-container"+(wa?" leaflet-touch":"")+(Ia?" leaflet-retina":"")+(Xa?" leaflet-oldie":"")+(gb?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var b=eb(a,
"position");"absolute"!==b&&"relative"!==b&&"fixed"!==b&&(a.style.position="relative");this._initPanes();this._initControlPos&&this._initControlPos()},_initPanes:function(){var a=this._panes={};this._paneRenderers={};this._mapPane=this.createPane("mapPane",this._container);ca(this._mapPane,new n(0,0));this.createPane("tilePane");this.createPane("shadowPane");this.createPane("overlayPane");this.createPane("markerPane");this.createPane("tooltipPane");this.createPane("popupPane");this.options.markerZoomAnimation||
(O(a.markerPane,"leaflet-zoom-hide"),O(a.shadowPane,"leaflet-zoom-hide"))},_resetView:function(a,b){ca(this._mapPane,new n(0,0));var c=!this._loaded;this._loaded=!0;b=this._limitZoom(b);this.fire("viewprereset");var d=this._zoom!==b;this._moveStart(d,!1)._move(a,b)._moveEnd(d);this.fire("viewreset");c&&this.fire("load")},_moveStart:function(a,b){return a&&this.fire("zoomstart"),b||this.fire("movestart"),this},_move:function(a,b,c){void 0===b&&(b=this._zoom);var d=this._zoom!==b;return this._zoom=
b,this._lastCenter=a,this._pixelOrigin=this._getNewPixelOrigin(a),(d||c&&c.pinch)&&this.fire("zoom",c),this.fire("move",c)},_moveEnd:function(a){return a&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return V(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(a){ca(this._mapPane,this._getMapPanePos().subtract(a))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},
_checkIfLoaded:function(){if(!this._loaded)throw Error("Set map center and zoom first.");},_initEvents:function(a){this._targets={};var b=a?ba:Q;b((this._targets[g(this._container)]=this)._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this);this.options.trackResize&&b(window,"resize",this._onResize,this);pa&&this.options.transform3DLimit&&(a?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){V(this._resizeRequest);
this._resizeRequest=P(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0;this._container.scrollLeft=0},_onMoveEnd:function(){var a=this._getMapPanePos();Math.max(Math.abs(a.x),Math.abs(a.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(a,b){for(var c,d=[],f="mouseout"===b||"mouseover"===b,h=a.target||a.srcElement,l=!1;h;){if((c=this._targets[g(h)])&&("click"===b||"preclick"===
b)&&!a._simulated&&this._draggableMoved(c)){l=!0;break}if(c&&c.listens(b,!0)){if(f&&!Eb(h,a))break;if(d.push(c),f)break}if(h===this._container)break;h=h.parentNode}return d.length||l||f||!Eb(h,a)||(d=[this]),d},_handleDOMEvent:function(a){var b;this._loaded&&!hc(a)&&("mousedown"!==(b=a.type)&&"keypress"!==b&&"keyup"!==b&&"keydown"!==b||cc(a.target||a.srcElement),this._fireDOMEvent(a,b))},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(a,b,c){var d;if("click"===
a.type&&((d=B({},a)).type="preclick",this._fireDOMEvent(d,d.type,c)),!a._stopped&&(c=(c||[]).concat(this._findEventTargets(a,b))).length){var f=c[0];"contextmenu"===b&&f.listens(b,!0)&&na(a);var h;d={originalEvent:a};"keypress"!==a.type&&"keydown"!==a.type&&"keyup"!==a.type&&(h=f.getLatLng&&(!f._radius||10>=f._radius),d.containerPoint=h?this.latLngToContainerPoint(f.getLatLng()):this.mouseEventToContainerPoint(a),d.layerPoint=this.containerPointToLayerPoint(d.containerPoint),d.latlng=h?f.getLatLng():
this.layerPointToLatLng(d.layerPoint));for(a=0;a<c.length&&!(c[a].fire(b,d,!0),d.originalEvent._stopped||!1===c[a].options.bubblingMouseEvents&&-1!==X(this._mouseEvents,b));a++);}},_draggableMoved:function(a){return(a=a.dragging&&a.dragging.enabled()?a:this).dragging&&a.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var a=0,b=this._handlers.length;a<b;a++)this._handlers[a].disable()},whenReady:function(a,b){return this._loaded?a.call(b||this,{target:this}):this.on("load",
a,b),this},_getMapPanePos:function(){return Fa(this._mapPane)||new n(0,0)},_moved:function(){var a=this._getMapPanePos();return a&&!a.equals([0,0])},_getTopLeftPoint:function(a,b){return(a&&void 0!==b?this._getNewPixelOrigin(a,b):this.getPixelOrigin()).subtract(this._getMapPanePos())},_getNewPixelOrigin:function(a,b){var c=this.getSize()._divideBy(2);return this.project(a,b)._subtract(c)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(a,b,c){c=this._getNewPixelOrigin(c,b);return this.project(a,
b)._subtract(c)},_latLngBoundsToNewLayerBounds:function(a,b,c){c=this._getNewPixelOrigin(c,b);return F([this.project(a.getSouthWest(),b)._subtract(c),this.project(a.getNorthWest(),b)._subtract(c),this.project(a.getSouthEast(),b)._subtract(c),this.project(a.getNorthEast(),b)._subtract(c)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(a){return this.latLngToLayerPoint(a).subtract(this._getCenterLayerPoint())},_limitCenter:function(a,
b,c){if(!c)return a;var d=this.project(a,b),f=this.getSize().divideBy(2);f=new y(d.subtract(f),d.add(f));c=this._getBoundsOffset(f,c,b);return c.round().equals([0,0])?a:this.unproject(d.add(c),b)},_limitOffset:function(a,b){if(!b)return a;var c=this.getPixelBounds();c=new y(c.min.add(a),c.max.add(a));return a.add(this._getBoundsOffset(c,b))},_getBoundsOffset:function(a,b,c){c=F(this.project(b.getNorthEast(),c),this.project(b.getSouthWest(),c));b=c.min.subtract(a.min);a=c.max.subtract(a.max);return new n(this._rebound(b.x,
-a.x),this._rebound(b.y,-a.y))},_rebound:function(a,b){return 0<a+b?Math.round(a-b)/2:Math.max(0,Math.ceil(a))-Math.max(0,Math.floor(b))},_limitZoom:function(a){var b=this.getMinZoom(),c=this.getMaxZoom(),d=pa?this.options.zoomSnap:1;return d&&(a=Math.round(a/d)*d),Math.max(b,Math.min(c,a))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){aa(this._mapPane,"leaflet-pan-anim");this.fire("moveend")},_tryAnimatedPan:function(a,b){a=this._getCenterOffset(a)._trunc();return!(!0!==
(b&&b.animate)&&!this.getSize().contains(a))&&(this.panBy(a,b),!0)},_createAnimProxy:function(){var a=this._proxy=T("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(a);this.on("zoomanim",function(b){var c=Zb,d=this._proxy.style[c];Ka(this._proxy,this.project(b.center,b.zoom),this.getZoomScale(b.zoom,1));d===this._proxy.style[c]&&this._animatingZoom&&this._onZoomTransitionEnd()},this);this.on("load moveend",this._animMoveEnd,this);this._on("unload",this._destroyAnimProxy,
this)},_destroyAnimProxy:function(){Y(this._proxy);this.off("load moveend",this._animMoveEnd,this);delete this._proxy},_animMoveEnd:function(){var a=this.getCenter(),b=this.getZoom();Ka(this._proxy,this.project(a,b),this.getZoomScale(b,1))},_catchTransitionEnd:function(a){this._animatingZoom&&0<=a.propertyName.indexOf("transform")&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(a,b,
c){if(this._animatingZoom)return!0;if(c=c||{},!this._zoomAnimated||!1===c.animate||this._nothingToAnimate()||Math.abs(b-this._zoom)>this.options.zoomAnimationThreshold)return!1;var d=this.getZoomScale(b);d=this._getCenterOffset(a)._divideBy(1-1/d);return!(!0!==c.animate&&!this.getSize().contains(d))&&(P(function(){this._moveStart(!0,!1)._animateZoom(a,b,!0)},this),!0)},_animateZoom:function(a,b,c,d){this._mapPane&&(c&&(this._animatingZoom=!0,this._animateToCenter=a,this._animateToZoom=b,O(this._mapPane,
"leaflet-zoom-anim")),this.fire("zoomanim",{center:a,zoom:b,noUpdate:d}),setTimeout(e(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&aa(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom),P(function(){this._moveEnd(!0)},this))}}),ta=U.extend({options:{position:"topright"},initialize:function(a){E(this,a)},getPosition:function(){return this.options.position},setPosition:function(a){var b=
this._map;return b&&b.removeControl(this),this.options.position=a,b&&b.addControl(this),this},getContainer:function(){return this._container},addTo:function(a){this.remove();this._map=a;var b=this._container=this.onAdd(a),c=this.getPosition();a=a._controlCorners[c];return O(b,"leaflet-control"),-1!==c.indexOf("bottom")?a.insertBefore(b,a.firstChild):a.appendChild(b),this._map.on("unload",this.remove,this),this},remove:function(){return this._map&&(Y(this._container),this.onRemove&&this.onRemove(this._map),
this._map.off("unload",this.remove,this),this._map=null),this},_refocusOnMap:function(a){this._map&&a&&0<a.screenX&&0<a.screenY&&this._map.getContainer().focus()}});S.include({addControl:function(a){return a.addTo(this),this},removeControl:function(a){return a.remove(),this},_initControlPos:function(){function a(d,f){b[d+f]=T("div","leaflet-"+d+" leaflet-"+f,c)}var b=this._controlCorners={},c=this._controlContainer=T("div","leaflet-control-container",this._container);a("top","left");a("top","right");
a("bottom","left");a("bottom","right")},_clearControlPos:function(){for(var a in this._controlCorners)Y(this._controlCorners[a]);Y(this._controlContainer);delete this._controlCorners;delete this._controlContainer}});var od=ta.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(a,b,c,d){return c<d?-1:d<c?1:0}},initialize:function(a,b,c){for(var d in E(this,c),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=
!1,a)this._addLayer(a[d],d);for(d in b)this._addLayer(b[d],d,!0)},onAdd:function(a){this._initLayout();this._update();(this._map=a).on("zoomend",this._checkDisabledLayers,this);for(a=0;a<this._layers.length;a++)this._layers[a].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(a){return ta.prototype.addTo.call(this,a),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var a=0;a<this._layers.length;a++)this._layers[a].layer.off("add remove",
this._onLayerChange,this)},addBaseLayer:function(a,b){return this._addLayer(a,b),this._map?this._update():this},addOverlay:function(a,b){return this._addLayer(a,b,!0),this._map?this._update():this},removeLayer:function(a){a.off("add remove",this._onLayerChange,this);a=this._getLayer(g(a));return a&&this._layers.splice(this._layers.indexOf(a),1),this._map?this._update():this},expand:function(){O(this._container,"leaflet-control-layers-expanded");this._section.style.height=null;var a=this._map.getSize().y-
(this._container.offsetTop+50);return a<this._section.clientHeight?(O(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=a+"px"):aa(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return aa(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var a=this._container=T("div","leaflet-control-layers"),b=this.options.collapsed;a.setAttribute("aria-haspopup",!0);hb(a);ic(a);var c=this._section=T("section",
"leaflet-control-layers-list");b&&(this._map.on("click",this.collapse,this),nb||Q(a,{mouseenter:this.expand,mouseleave:this.collapse},this));var d=this._layersLink=T("a","leaflet-control-layers-toggle",a);d.href="#";d.title="Layers";wa?(Q(d,"click",za),Q(d,"click",this.expand,this)):Q(d,"focus",this.expand,this);b||this.expand();this._baseLayersList=T("div","leaflet-control-layers-base",c);this._separator=T("div","leaflet-control-layers-separator",c);this._overlaysList=T("div","leaflet-control-layers-overlays",
c);a.appendChild(c)},_getLayer:function(a){for(var b=0;b<this._layers.length;b++)if(this._layers[b]&&g(this._layers[b].layer)===a)return this._layers[b]},_addLayer:function(a,b,c){this._map&&a.on("add remove",this._onLayerChange,this);this._layers.push({layer:a,name:b,overlay:c});this.options.sortLayers&&this._layers.sort(e(function(d,f){return this.options.sortFunction(d.layer,f.layer,d.name,f.name)},this));this.options.autoZIndex&&a.setZIndex&&(this._lastZIndex++,a.setZIndex(this._lastZIndex));
this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;wb(this._baseLayersList);wb(this._overlaysList);this._layerControlInputs=[];for(var a,b,c,d=0,f=0;f<this._layers.length;f++)c=this._layers[f],this._addItem(c),b=b||c.overlay,a=a||!c.overlay,d+=c.overlay?0:1;return this.options.hideSingleBase&&(a=a&&1<d,this._baseLayersList.style.display=a?"":"none"),this._separator.style.display=b&&a?"":"none",this},_onLayerChange:function(a){this._handlingClick||this._update();var b=
this._getLayer(g(a.target));(a=b.overlay?"add"===a.type?"overlayadd":"overlayremove":"add"===a.type?"baselayerchange":null)&&this._map.fire(a,b)},_createRadioElement:function(a,b){a='<input type="radio" class="leaflet-control-layers-selector" name="'+a+'"'+(b?' checked="checked"':"")+"/>";b=document.createElement("div");return b.innerHTML=a,b.firstChild},_addItem:function(a){var b,c=document.createElement("label"),d=this._map.hasLayer(a.layer);a.overlay?((b=document.createElement("input")).type="checkbox",
b.className="leaflet-control-layers-selector",b.defaultChecked=d):b=this._createRadioElement("leaflet-base-layers_"+g(this),d);this._layerControlInputs.push(b);b.layerId=g(a.layer);Q(b,"click",this._onInputClick,this);d=document.createElement("span");d.innerHTML=" "+a.name;var f=document.createElement("div");return c.appendChild(f),f.appendChild(b),f.appendChild(d),(a.overlay?this._overlaysList:this._baseLayersList).appendChild(c),this._checkDisabledLayers(),c},_onInputClick:function(){var a=this._layerControlInputs,
b=[],c=[];this._handlingClick=!0;for(var d=a.length-1;0<=d;d--){var f=a[d];var h=this._getLayer(f.layerId).layer;f.checked?b.push(h):f.checked||c.push(h)}for(d=0;d<c.length;d++)this._map.hasLayer(c[d])&&this._map.removeLayer(c[d]);for(d=0;d<b.length;d++)this._map.hasLayer(b[d])||this._map.addLayer(b[d]);this._handlingClick=!1;this._refocusOnMap()},_checkDisabledLayers:function(){for(var a,b,c=this._layerControlInputs,d=this._map.getZoom(),f=c.length-1;0<=f;f--)a=c[f],b=this._getLayer(a.layerId).layer,
a.disabled=void 0!==b.options.minZoom&&d<b.options.minZoom||void 0!==b.options.maxZoom&&d>b.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expand:function(){return this.expand()},_collapse:function(){return this.collapse()}}),zc=ta.extend({options:{position:"topleft",zoomInText:"+",zoomInTitle:"Zoom in",zoomOutText:"&#x2212;",zoomOutTitle:"Zoom out"},onAdd:function(a){var b=T("div","leaflet-control-zoom leaflet-bar"),c=this.options;
return this._zoomInButton=this._createButton(c.zoomInText,c.zoomInTitle,"leaflet-control-zoom-in",b,this._zoomIn),this._zoomOutButton=this._createButton(c.zoomOutText,c.zoomOutTitle,"leaflet-control-zoom-out",b,this._zoomOut),this._updateDisabled(),a.on("zoomend zoomlevelschange",this._updateDisabled,this),b},onRemove:function(a){a.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=
!1,this._updateDisabled(),this},_zoomIn:function(a){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(a.shiftKey?3:1))},_zoomOut:function(a){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(a.shiftKey?3:1))},_createButton:function(a,b,c,d,f){c=T("a",c,d);return c.innerHTML=a,c.href="#",c.title=b,c.setAttribute("role","button"),c.setAttribute("aria-label",b),hb(c),Q(c,"click",za),Q(c,"click",
f,this),Q(c,"click",this._refocusOnMap,this),c},_updateDisabled:function(){var a=this._map;aa(this._zoomInButton,"leaflet-disabled");aa(this._zoomOutButton,"leaflet-disabled");!this._disabled&&a._zoom!==a.getMinZoom()||O(this._zoomOutButton,"leaflet-disabled");!this._disabled&&a._zoom!==a.getMaxZoom()||O(this._zoomInButton,"leaflet-disabled")}});S.mergeOptions({zoomControl:!0});S.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new zc,this.addControl(this.zoomControl))});var pd=
ta.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(a){var b=T("div","leaflet-control-scale"),c=this.options;return this._addScales(c,"leaflet-control-scale-line",b),a.on(c.updateWhenIdle?"moveend":"move",this._update,this),a.whenReady(this._update,this),b},onRemove:function(a){a.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(a,b,c){a.metric&&(this._mScale=T("div",b,c));a.imperial&&(this._iScale=T("div",b,c))},_update:function(){var a=
this._map,b=a.getSize().y/2;a=a.distance(a.containerPointToLatLng([0,b]),a.containerPointToLatLng([this.options.maxWidth,b]));this._updateScales(a)},_updateScales:function(a){this.options.metric&&a&&this._updateMetric(a);this.options.imperial&&a&&this._updateImperial(a)},_updateMetric:function(a){var b=this._getRoundNum(a);this._updateScale(this._mScale,1E3>b?b+" m":b/1E3+" km",b/a)},_updateImperial:function(a){var b,c,d;a*=3.2808399;5280<a?(b=a/5280,c=this._getRoundNum(b),this._updateScale(this._iScale,
c+" mi",c/b)):(d=this._getRoundNum(a),this._updateScale(this._iScale,d+" ft",d/a))},_updateScale:function(a,b,c){a.style.width=Math.round(this.options.maxWidth*c)+"px";a.innerHTML=b},_getRoundNum:function(a){var b=Math.pow(10,(Math.floor(a)+"").length-1);a/=b;return b*(10<=a?10:5<=a?5:3<=a?3:2<=a?2:1)}}),Ac=ta.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JS library for interactive maps">Leaflet</a>'},initialize:function(a){E(this,a);this._attributions={}},
onAdd:function(a){for(var b in(a.attributionControl=this)._container=T("div","leaflet-control-attribution"),hb(this._container),a._layers)a._layers[b].getAttribution&&this.addAttribution(a._layers[b].getAttribution());return this._update(),this._container},setPrefix:function(a){return this.options.prefix=a,this._update(),this},addAttribution:function(a){return a&&(this._attributions[a]||(this._attributions[a]=0),this._attributions[a]++,this._update()),this},removeAttribution:function(a){return a&&
this._attributions[a]&&(this._attributions[a]--,this._update()),this},_update:function(){if(this._map){var a=[];for(b in this._attributions)this._attributions[b]&&a.push(b);var b=[];this.options.prefix&&b.push(this.options.prefix);a.length&&b.push(a.join(", "));this._container.innerHTML=b.join(" | ")}}});S.mergeOptions({attributionControl:!0});S.addInitHook(function(){this.options.attributionControl&&(new Ac).addTo(this)});ta.Layers=od;ta.Zoom=zc;ta.Scale=pd;ta.Attribution=Ac;ib.layers=function(a,
b,c){return new od(a,b,c)};ib.zoom=function(a){return new zc(a)};ib.scale=function(a){return new pd(a)};ib.attribution=function(a){return new Ac(a)};var xa=U.extend({initialize:function(a){this._map=a},enable:function(){return this._enabled||(this._enabled=!0,this.addHooks()),this},disable:function(){return this._enabled&&(this._enabled=!1,this.removeHooks()),this},enabled:function(){return!!this._enabled}});xa.addTo=function(a,b){return a.addHandler(b,this),this};var Sc,Vd={Events:ma},qd=wa?"touchstart mousedown":
"mousedown",rd={mousedown:"mouseup",touchstart:"touchend",pointerdown:"touchend",MSPointerDown:"touchend"},Bc={mousedown:"mousemove",touchstart:"touchmove",pointerdown:"touchmove",MSPointerDown:"touchmove"},Na=mb.extend({options:{clickTolerance:3},initialize:function(a,b,c,d){E(this,d);this._element=a;this._dragStartTarget=b||a;this._preventOutline=c},enable:function(){this._enabled||(Q(this._dragStartTarget,qd,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(Na._dragging===
this&&this.finishDrag(),ba(this._dragStartTarget,qd,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(a){var b,c;!a._simulated&&this._enabled&&(this._moved=!1,Xb(this._element,"leaflet-zoom-anim")||Na._dragging||a.shiftKey||1!==a.which&&1!==a.button&&!a.touches||((Na._dragging=this)._preventOutline&&cc(this._element),ac(),pb(),this._moving||(this.fire("down"),b=a.touches?a.touches[0]:a,c=Mc(this._element),this._startPoint=new n(b.clientX,b.clientY),this._parentScale=ec(c),Q(document,
Bc[a.type],this._onMove,this),Q(document,rd[a.type],this._onUp,this))))},_onMove:function(a){var b,c;!a._simulated&&this._enabled&&(a.touches&&1<a.touches.length?this._moved=!0:((c=(new n((b=a.touches&&1===a.touches.length?a.touches[0]:a).clientX,b.clientY))._subtract(this._startPoint)).x||c.y)&&(Math.abs(c.x)+Math.abs(c.y)<this.options.clickTolerance||(c.x/=this._parentScale.x,c.y/=this._parentScale.y,na(a),this._moved||(this.fire("dragstart"),this._moved=!0,this._startPos=Fa(this._element).subtract(c),
O(document.body,"leaflet-dragging"),this._lastTarget=a.target||a.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),O(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(c),this._moving=!0,V(this._animRequest),this._lastEvent=a,this._animRequest=P(this._updatePosition,this,!0))))},_updatePosition:function(){var a={originalEvent:this._lastEvent};this.fire("predrag",a);ca(this._element,
this._newPos);this.fire("drag",a)},_onUp:function(a){!a._simulated&&this._enabled&&this.finishDrag()},finishDrag:function(){for(var a in aa(document.body,"leaflet-dragging"),this._lastTarget&&(aa(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),Bc)ba(document,Bc[a],this._onMove,this),ba(document,rd[a],this._onUp,this);bc();xc();this._moved&&this._moving&&(V(this._animRequest),this.fire("dragend",{distance:this._newPos.distanceTo(this._startPos)}));this._moving=!1;Na._dragging=!1}}),
Wd={simplify:Pc,pointToSegmentDistance:Qc,closestPointOnSegment:function(a,b,c){return jb(a,b,c)},clipSegment:Rc,_getEdgeIntersection:Gb,_getBitCode:Ma,_sqClosestPointOnSegment:jb,isFlat:Aa,_flat:Tc},sd,Xd={clipPolygon:Uc},Cc={project:function(a){return new n(a.lng,a.lat)},unproject:function(a){return new x(a.y,a.x)},bounds:new y([-180,-90],[180,90])},Dc={R:6378137,R_MINOR:6356752.314245179,bounds:new y([-2.003750834279E7,-1.549657073972E7],[2.003750834279E7,1.876465623138E7]),project:function(a){var b=
Math.PI/180,c=this.R,d=a.lat*b,f=this.R_MINOR/c;f=Math.sqrt(1-f*f);var h=f*Math.sin(d);d=-c*Math.log(Math.max(Math.tan(Math.PI/4-d/2)/Math.pow((1-h)/(1+h),f/2),1E-10));return new n(a.lng*b*c,d)},unproject:function(a){var b,c=180/Math.PI,d=this.R,f=this.R_MINOR/d;f=Math.sqrt(1-f*f);var h=Math.exp(-a.y/d),l=Math.PI/2-2*Math.atan(h),v=0;for(b=.1;15>v&&1E-7<Math.abs(b);v++)b=f*Math.sin(l),b=Math.pow((1-b)/(1+b),f/2),l+=b=Math.PI/2-2*Math.atan(h*b)-l;return new x(l*c,a.x*c/d)}},Yd={LonLat:Cc,Mercator:Dc,
SphericalMercator:oc},Zd=B({},Ga,{code:"EPSG:3395",projection:Dc,transformation:da(sd=.5/(Math.PI*Dc.R),.5,-sd,.5)}),td=B({},Ga,{code:"EPSG:4326",projection:Cc,transformation:da(1/180,1,-1/180,.5)}),$d=B({},Da,{projection:Cc,transformation:da(1,0,-1,0),scale:function(a){return Math.pow(2,a)},zoom:function(a){return Math.log(a)/Math.LN2},distance:function(a,b){var c=b.lng-a.lng;a=b.lat-a.lat;return Math.sqrt(c*c+a*a)},infinite:!0});Da.Earth=Ga;Da.EPSG3395=Zd;Da.EPSG3857=pc;Da.EPSG900913=Kd;Da.EPSG4326=
td;Da.Simple=$d;var ua=mb.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(a){return a.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(a){return a&&a.removeLayer(this),this},getPane:function(a){return this._map.getPane(a?this.options[a]||a:this.options.pane)},addInteractiveTarget:function(a){return this._map._targets[g(a)]=this},removeInteractiveTarget:function(a){return delete this._map._targets[g(a)],
this},getAttribution:function(){return this.options.attribution},_layerAdd:function(a){var b,c=a.target;c.hasLayer(this)&&(this._map=c,this._zoomAnimated=c._zoomAnimated,this.getEvents&&(b=this.getEvents(),c.on(b,this),this.once("remove",function(){c.off(b,this)},this)),this.onAdd(c),this.getAttribution&&c.attributionControl&&c.attributionControl.addAttribution(this.getAttribution()),this.fire("add"),c.fire("layeradd",{layer:this}))}});S.include({addLayer:function(a){if(!a._layerAdd)throw Error("The provided object is not a Layer.");
var b=g(a);return this._layers[b]||((this._layers[b]=a)._mapToAdd=this,a.beforeAdd&&a.beforeAdd(this),this.whenReady(a._layerAdd,a)),this},removeLayer:function(a){var b=g(a);return this._layers[b]&&(this._loaded&&a.onRemove(this),a.getAttribution&&this.attributionControl&&this.attributionControl.removeAttribution(a.getAttribution()),delete this._layers[b],this._loaded&&(this.fire("layerremove",{layer:a}),a.fire("remove")),a._map=a._mapToAdd=null),this},hasLayer:function(a){return!!a&&g(a)in this._layers},
eachLayer:function(a,b){for(var c in this._layers)a.call(b,this._layers[c]);return this},_addLayers:function(a){for(var b=0,c=(a=a?va(a)?a:[a]:[]).length;b<c;b++)this.addLayer(a[b])},_addZoomLimit:function(a){!isNaN(a.options.maxZoom)&&isNaN(a.options.minZoom)||(this._zoomBoundLayers[g(a)]=a,this._updateZoomLevels())},_removeZoomLimit:function(a){a=g(a);this._zoomBoundLayers[a]&&(delete this._zoomBoundLayers[a],this._updateZoomLevels())},_updateZoomLevels:function(){var a=1/0,b=-1/0,c=this._getZoomSpan(),
d;for(d in this._zoomBoundLayers){var f=this._zoomBoundLayers[d].options;a=void 0===f.minZoom?a:Math.min(a,f.minZoom);b=void 0===f.maxZoom?b:Math.max(b,f.maxZoom)}this._layersMaxZoom=b===-1/0?void 0:b;this._layersMinZoom=a===1/0?void 0:a;c!==this._getZoomSpan()&&this.fire("zoomlevelschange");void 0===this.options.maxZoom&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom);void 0===this.options.minZoom&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&
this.setZoom(this._layersMinZoom)}});var $a=ua.extend({initialize:function(a,b){var c;if(E(this,b),this._layers={},a)for(b=0,c=a.length;b<c;b++)this.addLayer(a[b])},addLayer:function(a){var b=this.getLayerId(a);return this._layers[b]=a,this._map&&this._map.addLayer(a),this},removeLayer:function(a){a=a in this._layers?a:this.getLayerId(a);return this._map&&this._layers[a]&&this._map.removeLayer(this._layers[a]),delete this._layers[a],this},hasLayer:function(a){return!!a&&("number"==typeof a?a:this.getLayerId(a))in
this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(a){var b,c,d=Array.prototype.slice.call(arguments,1);for(b in this._layers)(c=this._layers[b])[a]&&c[a].apply(c,d);return this},onAdd:function(a){this.eachLayer(a.addLayer,a)},onRemove:function(a){this.eachLayer(a.removeLayer,a)},eachLayer:function(a,b){for(var c in this._layers)a.call(b,this._layers[c]);return this},getLayer:function(a){return this._layers[a]},getLayers:function(){var a=[];return this.eachLayer(a.push,
a),a},setZIndex:function(a){return this.invoke("setZIndex",a)},getLayerId:g}),Ta=$a.extend({addLayer:function(a){return this.hasLayer(a)?this:(a.addEventParent(this),$a.prototype.addLayer.call(this,a),this.fire("layeradd",{layer:a}))},removeLayer:function(a){return this.hasLayer(a)?(a in this._layers&&(a=this._layers[a]),a.removeEventParent(this),$a.prototype.removeLayer.call(this,a),this.fire("layerremove",{layer:a})):this},setStyle:function(a){return this.invoke("setStyle",a)},bringToFront:function(){return this.invoke("bringToFront")},
bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var a=new z,b;for(b in this._layers){var c=this._layers[b];a.extend(c.getBounds?c.getBounds():c.getLatLng())}return a}}),ab=U.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0]},initialize:function(a){E(this,a)},createIcon:function(a){return this._createIcon("icon",a)},createShadow:function(a){return this._createIcon("shadow",a)},_createIcon:function(a,b){var c=this._getIconUrl(a);if(!c){if("icon"===a)throw Error("iconUrl not set in Icon options (see the docs).");
return null}b=this._createImg(c,b&&"IMG"===b.tagName?b:null);return this._setIconStyles(b,a),b},_setIconStyles:function(a,b){var c=this.options,d=c[b+"Size"];"number"==typeof d&&(d=[d,d]);d=r(d);var f=r("shadow"===b&&c.shadowAnchor||c.iconAnchor||d&&d.divideBy(2,!0));a.className="leaflet-marker-"+b+" "+(c.className||"");f&&(a.style.marginLeft=-f.x+"px",a.style.marginTop=-f.y+"px");d&&(a.style.width=d.x+"px",a.style.height=d.y+"px")},_createImg:function(a,b){return(b=b||document.createElement("img")).src=
a,b},_getIconUrl:function(a){return Ia&&this.options[a+"RetinaUrl"]||this.options[a+"Url"]}}),rb=ab.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(a){return rb.imagePath||(rb.imagePath=this._detectIconPath()),(this.options.imagePath||rb.imagePath)+ab.prototype._getIconUrl.call(this,a)},_detectIconPath:function(){var a=
T("div","leaflet-default-icon-path",document.body),b=eb(a,"background-image")||eb(a,"backgroundImage");return document.body.removeChild(a),null===b||0!==b.indexOf("url")?"":b.replace(/^url\(["']?/,"").replace(/marker-icon\.png["']?\)$/,"")}}),ud=xa.extend({initialize:function(a){this._marker=a},addHooks:function(){var a=this._marker._icon;this._draggable||(this._draggable=new Na(a,a,!0));this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},
this).enable();O(a,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable();this._marker._icon&&aa(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(a){var b,c=this._marker,d=c._map,f=this._marker.options.autoPanSpeed,h=this._marker.options.autoPanPadding,l=Fa(c._icon),v=d.getPixelBounds(),
w=d.getPixelOrigin();h=F(v.min._subtract(w).add(h),v.max._subtract(w).subtract(h));h.contains(l)||(b=r((Math.max(h.max.x,l.x)-h.max.x)/(v.max.x-h.max.x)-(Math.min(h.min.x,l.x)-h.min.x)/(v.min.x-h.min.x),(Math.max(h.max.y,l.y)-h.max.y)/(v.max.y-h.max.y)-(Math.min(h.min.y,l.y)-h.min.y)/(v.min.y-h.min.y)).multiplyBy(f),d.panBy(b,{animate:!1}),this._draggable._newPos._add(b),this._draggable._startPos._add(b),ca(c._icon,this._draggable._newPos),this._onDrag(a),this._panRequest=P(this._adjustPan.bind(this,
a)))},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng();this._marker.closePopup&&this._marker.closePopup();this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(a){this._marker.options.autoPan&&(V(this._panRequest),this._panRequest=P(this._adjustPan.bind(this,a)))},_onDrag:function(a){var b=this._marker,c=b._shadow,d=Fa(b._icon),f=b._map.layerPointToLatLng(d);c&&ca(c,d);b._latlng=f;a.latlng=f;a.oldLatLng=this._oldLatLng;b.fire("move",a).fire("drag",a)},_onDragEnd:function(a){V(this._panRequest);
delete this._oldLatLng;this._marker.fire("moveend").fire("dragend",a)}}),kb=ua.extend({options:{icon:new rb,interactive:!0,keyboard:!0,title:"",alt:"",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(a,b){E(this,b);this._latlng=G(a)},onAdd:function(a){(this._zoomAnimated=this._zoomAnimated&&a.options.markerZoomAnimation)&&a.on("zoomanim",this._animateZoom,
this);this._initIcon();this.update()},onRemove:function(a){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks());delete this.dragging;this._zoomAnimated&&a.off("zoomanim",this._animateZoom,this);this._removeIcon();this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(a){var b=this._latlng;return this._latlng=G(a),this.update(),this.fire("move",{oldLatLng:b,latlng:this._latlng})},
setZIndexOffset:function(a){return this.options.zIndexOffset=a,this.update()},getIcon:function(){return this.options.icon},setIcon:function(a){return this.options.icon=a,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){var a;return this._icon&&this._map&&(a=this._map.latLngToLayerPoint(this._latlng).round(),this._setPos(a)),this},_initIcon:function(){var a=this.options,b="leaflet-zoom-"+
(this._zoomAnimated?"animated":"hide"),c=a.icon.createIcon(this._icon),d=!1;c!==this._icon&&(this._icon&&this._removeIcon(),d=!0,a.title&&(c.title=a.title),"IMG"===c.tagName&&(c.alt=a.alt||""));O(c,b);a.keyboard&&(c.tabIndex="0");this._icon=c;a.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex});c=a.icon.createShadow(this._shadow);var f=!1;c!==this._shadow&&(this._removeShadow(),f=!0);c&&(O(c,b),c.alt="");this._shadow=c;1>a.opacity&&this._updateOpacity();d&&this.getPane().appendChild(this._icon);
this._initInteraction();c&&f&&this.getPane(a.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex});Y(this._icon);this.removeInteractiveTarget(this._icon);this._icon=null},_removeShadow:function(){this._shadow&&Y(this._shadow);this._shadow=null},_setPos:function(a){this._icon&&ca(this._icon,a);this._shadow&&ca(this._shadow,a);this._zIndex=a.y+this.options.zIndexOffset;this._resetZIndex()},_updateZIndex:function(a){this._icon&&
(this._icon.style.zIndex=this._zIndex+a)},_animateZoom:function(a){a=this._map._latLngToNewLayerPoint(this._latlng,a.zoom,a.center).round();this._setPos(a)},_initInteraction:function(){var a;this.options.interactive&&(O(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),ud&&(a=this.options.draggable,this.dragging&&(a=this.dragging.enabled(),this.dragging.disable()),this.dragging=new ud(this),a&&this.dragging.enable()))},setOpacity:function(a){return this.options.opacity=a,this._map&&
this._updateOpacity(),this},_updateOpacity:function(){var a=this.options.opacity;this._icon&&oa(this._icon,a);this._shadow&&oa(this._shadow,a)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}}),Ja=ua.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",
dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(a){this._renderer=a.getRenderer(this)},onAdd:function(){this._renderer._initPath(this);this._reset();this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(a){return E(this,a),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&
a&&Object.prototype.hasOwnProperty.call(a,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project();this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+this._renderer.options.tolerance}}),Ob=Ja.extend({options:{fill:!0,radius:10},
initialize:function(a,b){E(this,b);this._latlng=G(a);this._radius=this.options.radius},setLatLng:function(a){var b=this._latlng;return this._latlng=G(a),this.redraw(),this.fire("move",{oldLatLng:b,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(a){return this.options.radius=this._radius=a,this.redraw()},getRadius:function(){return this._radius},setStyle:function(a){var b=a&&a.radius||this._radius;return Ja.prototype.setStyle.call(this,a),this.setRadius(b),this},
_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng);this._updateBounds()},_updateBounds:function(){var a=this._radius,b=this._radiusY||a,c=this._clickTolerance();a=[a+c,b+c];this._pxBounds=new y(this._point.subtract(a),this._point.add(a))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(a){return a.distanceTo(this._point)<=
this._radius+this._clickTolerance()}}),Ec=Ob.extend({initialize:function(a,b,c){if("number"==typeof b&&(b=B({},c,{radius:b})),E(this,b),this._latlng=G(a),isNaN(this.options.radius))throw Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(a){return this._mRadius=a,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var a=[this._radius,this._radiusY||this._radius];return new z(this._map.layerPointToLatLng(this._point.subtract(a)),this._map.layerPointToLatLng(this._point.add(a)))},
setStyle:Ja.prototype.setStyle,_project:function(){var a,b,c,d,f,h,l,v,w=this._latlng.lng,C=this._latlng.lat,I=this._map,M=I.options.crs;M.distance===Ga.distance?(a=Math.PI/180,b=this._mRadius/Ga.R/a,c=I.project([C+b,w]),d=I.project([C-b,w]),f=c.add(d).divideBy(2),h=I.unproject(f).lat,l=Math.acos((Math.cos(b*a)-Math.sin(C*a)*Math.sin(h*a))/(Math.cos(C*a)*Math.cos(h*a)))/a,!isNaN(l)&&0!==l||(l=b/Math.cos(Math.PI/180*C)),this._point=f.subtract(I.getPixelOrigin()),this._radius=isNaN(l)?0:f.x-I.project([h,
w-l]).x,this._radiusY=f.y-c.y):(v=M.unproject(M.project(this._latlng).subtract([this._mRadius,0])),this._point=I.latLngToLayerPoint(this._latlng),this._radius=this._point.x-I.latLngToLayerPoint(v).x);this._updateBounds()}}),Ba=Ja.extend({options:{smoothFactor:1,noClip:!1},initialize:function(a,b){E(this,b);this._setLatLngs(a)},getLatLngs:function(){return this._latlngs},setLatLngs:function(a){return this._setLatLngs(a),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(a){for(var b,
c,d=1/0,f=null,h=jb,l=0,v=this._parts.length;l<v;l++)for(var w=this._parts[l],C=1,I=w.length;C<I;C++){var M=h(a,b=w[C-1],c=w[C],!0);M<d&&(d=M,f=h(a,b,c))}return f&&(f.distance=Math.sqrt(d)),f},getCenter:function(){if(!this._map)throw Error("Must add layer to map before using getCenter()");var a,b,c,d,f,h,l,v=this._rings[0],w=v.length;if(!w)return null;for(b=a=0;a<w-1;a++)b+=v[a].distanceTo(v[a+1])/2;if(0===b)return this._map.layerPointToLatLng(v[0]);for(d=a=0;a<w-1;a++)if(f=v[a],h=v[a+1],b<(d+=c=
f.distanceTo(h)))return l=(d-b)/c,this._map.layerPointToLatLng([h.x-l*(h.x-f.x),h.y-l*(h.y-f.y)])},getBounds:function(){return this._bounds},addLatLng:function(a,b){return b=b||this._defaultShape(),a=G(a),b.push(a),this._bounds.extend(a),this.redraw()},_setLatLngs:function(a){this._bounds=new z;this._latlngs=this._convertLatLngs(a)},_defaultShape:function(){return Aa(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(a){for(var b=[],c=Aa(a),d=0,f=a.length;d<f;d++)c?(b[d]=G(a[d]),
this._bounds.extend(b[d])):b[d]=this._convertLatLngs(a[d]);return b},_project:function(){var a=new y;this._rings=[];this._projectLatlngs(this._latlngs,this._rings,a);this._bounds.isValid()&&a.isValid()&&(this._rawPxBounds=a,this._updateBounds())},_updateBounds:function(){var a=this._clickTolerance();a=new n(a,a);this._pxBounds=new y([this._rawPxBounds.min.subtract(a),this._rawPxBounds.max.add(a)])},_projectLatlngs:function(a,b,c){var d,f=a.length;if(a[0]instanceof x){var h=[];for(d=0;d<f;d++)h[d]=
this._map.latLngToLayerPoint(a[d]),c.extend(h[d]);b.push(h)}else for(d=0;d<f;d++)this._projectLatlngs(a[d],b,c)},_clipPoints:function(){var a=this._renderer._bounds;if(this._parts=[],this._pxBounds&&this._pxBounds.intersects(a))if(this.options.noClip)this._parts=this._rings;else for(var b,c,d,f,h=this._parts,l=0,v=0,w=this._rings.length;l<w;l++)for(b=0,c=(f=this._rings[l]).length;b<c-1;b++)(d=Rc(f[b],f[b+1],a,b,!0))&&(h[v]=h[v]||[],h[v].push(d[0]),d[1]===f[b+1]&&b!==c-2||(h[v].push(d[1]),v++))},_simplifyPoints:function(){for(var a=
this._parts,b=this.options.smoothFactor,c=0,d=a.length;c<d;c++)a[c]=Pc(a[c],b)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(a,b){var c,d,f,h,l=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(a))return!1;var v=0;for(d=this._parts.length;v<d;v++){var w=0;for(c=(f=(h=this._parts[v]).length)-1;w<f;c=w++)if((b||0!==w)&&Qc(a,h[c],h[w])<=l)return!0}return!1}});
Ba._flat=Tc;var Ua=Ba.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw Error("Must add layer to map before using getCenter()");var a,b,c,d,f,h=this._rings[0],l=h.length;if(!l)return null;var v=b=c=d=0;for(a=l-1;v<l;a=v++){var w=h[v];a=h[a];var C=w.y*a.x-a.y*w.x;c+=(w.x+a.x)*C;d+=(w.y+a.y)*C;b+=3*C}return f=0===b?h[0]:[c/b,d/b],this._map.layerPointToLatLng(f)},_convertLatLngs:function(a){a=Ba.prototype._convertLatLngs.call(this,
a);var b=a.length;return 2<=b&&a[0]instanceof x&&a[0].equals(a[b-1])&&a.pop(),a},_setLatLngs:function(a){Ba.prototype._setLatLngs.call(this,a);Aa(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return Aa(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var a=this._renderer._bounds,b=this.options.weight;b=new n(b,b);a=new y(a.min.subtract(b),a.max.add(b));if(this._parts=[],this._pxBounds&&this._pxBounds.intersects(a))if(this.options.noClip)this._parts=
this._rings;else{var c;b=0;for(var d=this._rings.length;b<d;b++)(c=Uc(this._rings[b],a,!0)).length&&this._parts.push(c)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(a){var b,c,d,f,h=!1;if(!this._pxBounds||!this._pxBounds.contains(a))return!1;var l=0;for(d=this._parts.length;l<d;l++){var v=0;for(c=(f=(b=this._parts[l]).length)-1;v<f;c=v++){var w=b[v];c=b[c];w.y>a.y!=c.y>a.y&&a.x<(c.x-w.x)*(a.y-w.y)/(c.y-w.y)+w.x&&(h=!h)}}return h||Ba.prototype._containsPoint.call(this,
a,!0)}}),Ca=Ta.extend({initialize:function(a,b){E(this,b);this._layers={};a&&this.addData(a)},addData:function(a){var b,c,d=va(a)?a:a.features;if(d){a=0;for(b=d.length;a<b;a++)((c=d[a]).geometries||c.geometry||c.features||c.coordinates)&&this.addData(c);return this}c=this.options;return c.filter&&!c.filter(a)?this:(d=lc(a,c))?(d.feature=Jb(a),d.defaultOptions=d.options,this.resetStyle(d),c.onEachFeature&&c.onEachFeature(a,d),this.addLayer(d)):this},resetStyle:function(a){return void 0===a?this.eachLayer(this.resetStyle,
this):(a.options=B({},a.defaultOptions),this._setLayerStyle(a,this.options.style),this)},setStyle:function(a){return this.eachLayer(function(b){this._setLayerStyle(b,a)},this)},_setLayerStyle:function(a,b){a.setStyle&&("function"==typeof b&&(b=b(a.feature)),a.setStyle(b))}}),Fc={toGeoJSON:function(a){return Va(this,{type:"Point",coordinates:nc(this.getLatLng(),a)})}};kb.include(Fc);Ec.include(Fc);Ob.include(Fc);Ba.include({toGeoJSON:function(a){var b=!Aa(this._latlngs);return Va(this,{type:(b?"Multi":
"")+"LineString",coordinates:Ib(this._latlngs,b?1:0,!1,a)})}});Ua.include({toGeoJSON:function(a){var b=!Aa(this._latlngs),c=b&&!Aa(this._latlngs[0]);a=Ib(this._latlngs,c?2:b?1:0,!0,a);return b||(a=[a]),Va(this,{type:(c?"Multi":"")+"Polygon",coordinates:a})}});$a.include({toMultiPoint:function(a){var b=[];return this.eachLayer(function(c){b.push(c.toGeoJSON(a).geometry.coordinates)}),Va(this,{type:"MultiPoint",coordinates:b})},toGeoJSON:function(a){var b=this.feature&&this.feature.geometry&&this.feature.geometry.type;
if("MultiPoint"===b)return this.toMultiPoint(a);var c="GeometryCollection"===b,d=[];return this.eachLayer(function(f){var h,l;f.toGeoJSON&&(h=f.toGeoJSON(a),c?d.push(h.geometry):"FeatureCollection"===(l=Jb(h)).type?d.push.apply(d,l.features):d.push(l))}),c?Va(this,{geometries:d,type:"GeometryCollection"}):{type:"FeatureCollection",features:d}}});var Pb=ua.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(a,b,c){this._url=
a;this._bounds=A(b);E(this,c)},onAdd:function(){this._image||(this._initImage(),1>this.options.opacity&&this._updateOpacity());this.options.interactive&&(O(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image));this.getPane().appendChild(this._image);this._reset()},onRemove:function(){Y(this._image);this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(a){return this.options.opacity=a,this._image&&this._updateOpacity(),this},setStyle:function(a){return a.opacity&&
this.setOpacity(a.opacity),this},bringToFront:function(){return this._map&&Qa(this._image),this},bringToBack:function(){return this._map&&Ra(this._image),this},setUrl:function(a){return this._url=a,this._image&&(this._image.src=a),this},setBounds:function(a){return this._bounds=A(a),this._map&&this._reset(),this},getEvents:function(){var a={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(a.zoomanim=this._animateZoom),a},setZIndex:function(a){return this.options.zIndex=a,this._updateZIndex(),
this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var a="IMG"===this._url.tagName,b=this._image=a?this._url:T("img");O(b,"leaflet-image-layer");this._zoomAnimated&&O(b,"leaflet-zoom-animated");this.options.className&&O(b,this.options.className);b.onselectstart=u;b.onmousemove=u;b.onload=e(this.fire,this,"load");b.onerror=e(this._overlayOnError,this,"error");!this.options.crossOrigin&&""!==this.options.crossOrigin||(b.crossOrigin=!0===this.options.crossOrigin?
"":this.options.crossOrigin);this.options.zIndex&&this._updateZIndex();a?this._url=b.src:(b.src=this._url,b.alt=this.options.alt)},_animateZoom:function(a){var b=this._map.getZoomScale(a.zoom);a=this._map._latLngBoundsToNewLayerBounds(this._bounds,a.zoom,a.center).min;Ka(this._image,a,b)},_reset:function(){var a=this._image,b=new y(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),c=b.getSize();ca(a,b.min);a.style.width=c.x+"px";a.style.height=
c.y+"px"},_updateOpacity:function(){oa(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&void 0!==this.options.zIndex&&null!==this.options.zIndex&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var a=this.options.errorOverlayUrl;a&&this._url!==a&&(this._url=a,this._image.src=a)}}),vd=Pb.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1},_initImage:function(){var a="VIDEO"===this._url.tagName,b=this._image=a?this._url:
T("video");if(O(b,"leaflet-image-layer"),this._zoomAnimated&&O(b,"leaflet-zoom-animated"),this.options.className&&O(b,this.options.className),b.onselectstart=u,b.onmousemove=u,b.onloadeddata=e(this.fire,this,"load"),a){a=b.getElementsByTagName("source");for(var c=[],d=0;d<a.length;d++)c.push(a[d].src);this._url=0<a.length?c:[b.src]}else for(va(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(b.style,"objectFit")&&(b.style.objectFit="fill"),b.autoplay=
!!this.options.autoplay,b.loop=!!this.options.loop,b.muted=!!this.options.muted,a=0;a<this._url.length;a++)c=T("source"),c.src=this._url[a],b.appendChild(c)}}),wd=Pb.extend({_initImage:function(){var a=this._image=this._url;O(a,"leaflet-image-layer");this._zoomAnimated&&O(a,"leaflet-zoom-animated");this.options.className&&O(a,this.options.className);a.onselectstart=u;a.onmousemove=u}}),Ea=ua.extend({options:{offset:[0,7],className:"",pane:"popupPane"},initialize:function(a,b){E(this,a);this._source=
b},onAdd:function(a){this._zoomAnimated=a._zoomAnimated;this._container||this._initLayout();a._fadeAnimated&&oa(this._container,0);clearTimeout(this._removeTimeout);this.getPane().appendChild(this._container);this.update();a._fadeAnimated&&oa(this._container,1);this.bringToFront()},onRemove:function(a){a._fadeAnimated?(oa(this._container,0),this._removeTimeout=setTimeout(e(Y,void 0,this._container),200)):Y(this._container)},getLatLng:function(){return this._latlng},setLatLng:function(a){return this._latlng=
G(a),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(a){return this._content=a,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var a={zoom:this._updatePosition,viewreset:this._updatePosition};
return this._zoomAnimated&&(a.zoomanim=this._animateZoom),a},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&Qa(this._container),this},bringToBack:function(){return this._map&&Ra(this._container),this},_prepareOpen:function(a,b,c){if(b instanceof ua||(c=b,b=a),b instanceof Ta)for(var d in a._layers){b=a._layers[d];break}if(!c)if(b.getCenter)c=b.getCenter();else{if(!b.getLatLng)throw Error("Unable to get source layer LatLng.");c=b.getLatLng()}return this._source=
b,this.update(),c},_updateContent:function(){if(this._content){var a=this._contentNode,b="function"==typeof this._content?this._content(this._source||this):this._content;if("string"==typeof b)a.innerHTML=b;else{for(;a.hasChildNodes();)a.removeChild(a.firstChild);a.appendChild(b)}this.fire("contentupdate")}},_updatePosition:function(){var a,b,c,d,f;this._map&&(a=this._map.latLngToLayerPoint(this._latlng),b=r(this.options.offset),c=this._getAnchor(),this._zoomAnimated?ca(this._container,a.add(c)):b=
b.add(a).add(c),d=this._containerBottom=-b.y,f=this._containerLeft=-Math.round(this._containerWidth/2)+b.x,this._container.style.bottom=d+"px",this._container.style.left=f+"px")},_getAnchor:function(){return[0,0]}}),bb=Ea.extend({options:{maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(a){return a.openPopup(this),this},onAdd:function(a){Ea.prototype.onAdd.call(this,
a);a.fire("popupopen",{popup:this});this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof Ja||this._source.on("preclick",La))},onRemove:function(a){Ea.prototype.onRemove.call(this,a);a.fire("popupclose",{popup:this});this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof Ja||this._source.off("preclick",La))},getEvents:function(){var a=Ea.prototype.getEvents.call(this);return(void 0!==this.options.closeOnClick?this.options.closeOnClick:
this._map.options.closePopupOnClick)&&(a.preclick=this._close),this.options.keepInView&&(a.moveend=this._adjustPan),a},_close:function(){this._map&&this._map.closePopup(this)},_initLayout:function(){var a,b=this._container=T("div","leaflet-popup "+(this.options.className||"")+" leaflet-zoom-animated"),c=this._wrapper=T("div","leaflet-popup-content-wrapper",b);this._contentNode=T("div","leaflet-popup-content",c);hb(b);ic(this._contentNode);Q(b,"contextmenu",La);this._tipContainer=T("div","leaflet-popup-tip-container",
b);this._tip=T("div","leaflet-popup-tip",this._tipContainer);this.options.closeButton&&((a=this._closeButton=T("a","leaflet-popup-close-button",b)).href="#close",a.innerHTML="&#215;",Q(a,"click",this._onCloseButtonClick,this))},_updateLayout:function(){var a=this._contentNode,b=a.style;b.width="";b.whiteSpace="nowrap";var c=a.offsetWidth;c=Math.min(c,this.options.maxWidth);c=Math.max(c,this.options.minWidth);b.width=c+1+"px";b.whiteSpace="";b.height="";c=a.offsetHeight;var d=this.options.maxHeight;
d&&d<c?(b.height=d+"px",O(a,"leaflet-popup-scrolled")):aa(a,"leaflet-popup-scrolled");this._containerWidth=this._container.offsetWidth},_animateZoom:function(a){a=this._map._latLngToNewLayerPoint(this._latlng,a.zoom,a.center);var b=this._getAnchor();ca(this._container,a.add(b))},_adjustPan:function(){var a,b,c,d,f,h,l,v,w,C,I,M;this.options.autoPan&&(this._map._panAnim&&this._map._panAnim.stop(),a=this._map,b=parseInt(eb(this._container,"marginBottom"),10)||0,c=this._container.offsetHeight+b,d=this._containerWidth,
(f=new n(this._containerLeft,-c-this._containerBottom))._add(Fa(this._container)),h=a.layerPointToContainerPoint(f),l=r(this.options.autoPanPadding),v=r(this.options.autoPanPaddingTopLeft||l),w=r(this.options.autoPanPaddingBottomRight||l),C=a.getSize(),M=I=0,h.x+d+w.x>C.x&&(I=h.x+d-C.x+w.x),0>h.x-I-v.x&&(I=h.x-v.x),h.y+c+w.y>C.y&&(M=h.y+c-C.y+w.y),0>h.y-M-v.y&&(M=h.y-v.y),(I||M)&&a.fire("autopanstart").panBy([I,M]))},_onCloseButtonClick:function(a){this._close();za(a)},_getAnchor:function(){return r(this._source&&
this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}});S.mergeOptions({closePopupOnClick:!0});S.include({openPopup:function(a,b,c){return a instanceof bb||(a=(new bb(c)).setContent(a)),b&&a.setLatLng(b),this.hasLayer(a)?this:(this._popup&&this._popup.options.autoClose&&this.closePopup(),this._popup=a,this.addLayer(a))},closePopup:function(a){return a&&a!==this._popup||(a=this._popup,this._popup=null),a&&this.removeLayer(a),this}});ua.include({bindPopup:function(a,b){return a instanceof
bb?(E(a,b),(this._popup=a)._source=this):(this._popup&&!b||(this._popup=new bb(b,this)),this._popup.setContent(a)),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(a,
b){return this._popup&&this._map&&(b=this._popup._prepareOpen(this,a,b),this._map.openPopup(this._popup,b)),this},closePopup:function(){return this._popup&&this._popup._close(),this},togglePopup:function(a){return this._popup&&(this._popup._map?this.closePopup():this.openPopup(a)),this},isPopupOpen:function(){return!!this._popup&&this._popup.isOpen()},setPopupContent:function(a){return this._popup&&this._popup.setContent(a),this},getPopup:function(){return this._popup},_openPopup:function(a){var b=
a.layer||a.target;this._popup&&this._map&&(za(a),b instanceof Ja?this.openPopup(a.layer||a.target,a.latlng):this._map.hasLayer(this._popup)&&this._popup._source===b?this.closePopup():this.openPopup(b,a.latlng))},_movePopup:function(a){this._popup.setLatLng(a.latlng)},_onKeyPress:function(a){13===a.originalEvent.keyCode&&this._openPopup(a)}});var cb=Ea.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,interactive:!1,opacity:.9},onAdd:function(a){Ea.prototype.onAdd.call(this,
a);this.setOpacity(this.options.opacity);a.fire("tooltipopen",{tooltip:this});this._source&&this._source.fire("tooltipopen",{tooltip:this},!0)},onRemove:function(a){Ea.prototype.onRemove.call(this,a);a.fire("tooltipclose",{tooltip:this});this._source&&this._source.fire("tooltipclose",{tooltip:this},!0)},getEvents:function(){var a=Ea.prototype.getEvents.call(this);return wa&&!this.options.permanent&&(a.preclick=this._close),a},_close:function(){this._map&&this._map.closeTooltip(this)},_initLayout:function(){this._contentNode=
this._container=T("div","leaflet-tooltip "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(a){var b,c=this._map,d=this._container,f=c.latLngToContainerPoint(c.getCenter());c=c.layerPointToContainerPoint(a);var h=this.options.direction,l=d.offsetWidth,v=d.offsetHeight,w=r(this.options.offset),C=this._getAnchor(),I="top"===h?(b=l/2,v):"bottom"===h?(b=l/2,0):(b="center"===h?l/2:"right"===h?
0:"left"===h?l:c.x<f.x?(h="right",0):(h="left",l+2*(w.x+C.x)),v/2);a=a.subtract(r(b,I,!0)).add(w).add(C);aa(d,"leaflet-tooltip-right");aa(d,"leaflet-tooltip-left");aa(d,"leaflet-tooltip-top");aa(d,"leaflet-tooltip-bottom");O(d,"leaflet-tooltip-"+h);ca(d,a)},_updatePosition:function(){var a=this._map.latLngToLayerPoint(this._latlng);this._setPosition(a)},setOpacity:function(a){this.options.opacity=a;this._container&&oa(this._container,a)},_animateZoom:function(a){a=this._map._latLngToNewLayerPoint(this._latlng,
a.zoom,a.center);this._setPosition(a)},_getAnchor:function(){return r(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}});S.include({openTooltip:function(a,b,c){return a instanceof cb||(a=(new cb(c)).setContent(a)),b&&a.setLatLng(b),this.hasLayer(a)?this:this.addLayer(a)},closeTooltip:function(a){return a&&this.removeLayer(a),this}});ua.include({bindTooltip:function(a,b){return a instanceof cb?(E(a,b),(this._tooltip=a)._source=this):(this._tooltip&&
!b||(this._tooltip=new cb(b,this)),this._tooltip.setContent(a)),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(a){var b,c;!a&&this._tooltipHandlersAdded||(b=a?"off":"on",c={remove:this.closeTooltip,move:this._moveTooltip},this._tooltip.options.permanent?c.add=
this._openTooltip:(c.mouseover=this._openTooltip,c.mouseout=this.closeTooltip,this._tooltip.options.sticky&&(c.mousemove=this._moveTooltip),wa&&(c.click=this._openTooltip)),this[b](c),this._tooltipHandlersAdded=!a)},openTooltip:function(a,b){return this._tooltip&&this._map&&(b=this._tooltip._prepareOpen(this,a,b),this._map.openTooltip(this._tooltip,b),this._tooltip.options.interactive&&this._tooltip._container&&(O(this._tooltip._container,"leaflet-clickable"),this.addInteractiveTarget(this._tooltip._container))),
this},closeTooltip:function(){return this._tooltip&&(this._tooltip._close(),this._tooltip.options.interactive&&this._tooltip._container&&(aa(this._tooltip._container,"leaflet-clickable"),this.removeInteractiveTarget(this._tooltip._container))),this},toggleTooltip:function(a){return this._tooltip&&(this._tooltip._map?this.closeTooltip():this.openTooltip(a)),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(a){return this._tooltip&&this._tooltip.setContent(a),
this},getTooltip:function(){return this._tooltip},_openTooltip:function(a){var b=a.layer||a.target;this._tooltip&&this._map&&this.openTooltip(b,this._tooltip.options.sticky?a.latlng:void 0)},_moveTooltip:function(a){var b,c,d=a.latlng;this._tooltip.options.sticky&&a.originalEvent&&(b=this._map.mouseEventToContainerPoint(a.originalEvent),c=this._map.containerPointToLayerPoint(b),d=this._map.layerPointToLatLng(c));this._tooltip.setLatLng(d)}});var xd=ab.extend({options:{iconSize:[12,12],html:!1,bgPos:null,
className:"leaflet-div-icon"},createIcon:function(a){var b;a=a&&"DIV"===a.tagName?a:document.createElement("div");var c=this.options;return c.html instanceof Element?(wb(a),a.appendChild(c.html)):a.innerHTML=!1!==c.html?c.html:"",c.bgPos&&(b=r(c.bgPos),a.style.backgroundPosition=-b.x+"px "+-b.y+"px"),this._setIconStyles(a,"icon"),a},createShadow:function(){return null}});ab.Default=rb;var sb=ua.extend({options:{tileSize:256,opacity:1,updateWhenIdle:Ya,updateWhenZooming:!0,updateInterval:200,zIndex:1,
bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(a){E(this,a)},onAdd:function(){this._initContainer();this._levels={};this._tiles={};this._resetView();this._update()},beforeAdd:function(a){a._addZoomLimit(this)},onRemove:function(a){this._removeAllTiles();Y(this._container);a._removeZoomLimit(this);this._container=null;this._tileZoom=void 0},bringToFront:function(){return this._map&&(Qa(this._container),
this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(Ra(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(a){return this.options.opacity=a,this._updateOpacity(),this},setZIndex:function(a){return this.options.zIndex=a,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){return this._map&&(this._removeAllTiles(),this._update()),this},getEvents:function(){var a={viewprereset:this._invalidateAll,
viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=k(this._onMoveEnd,this.options.updateInterval,this)),a.move=this._onMove),this._zoomAnimated&&(a.zoomanim=this._animateZoom),a},createTile:function(){return document.createElement("div")},getTileSize:function(){var a=this.options.tileSize;return a instanceof n?a:new n(a,a)},_updateZIndex:function(){this._container&&void 0!==this.options.zIndex&&null!==this.options.zIndex&&
(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(a){for(var b,c=this.getPane().children,d=-a(-1/0,1/0),f=0,h=c.length;f<h;f++)b=c[f].style.zIndex,c[f]!==this._container&&b&&(d=a(d,+b));isFinite(d)&&(this.options.zIndex=d+a(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!Xa){oa(this._container,this.options.opacity);var a=+new Date,b=!1,c=!1,d;for(d in this._tiles){var f,h=this._tiles[d];h.current&&h.loaded&&(f=Math.min(1,(a-h.loaded)/200),oa(h.el,f),
1>f?b=!0:(h.active?c=!0:this._onOpaqueTile(h),h.active=!0))}c&&!this._noPrune&&this._pruneTiles();b&&(V(this._fadeFrame),this._fadeFrame=P(this._updateOpacity,this))}},_onOpaqueTile:u,_initContainer:function(){this._container||(this._container=T("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),1>this.options.opacity&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var a=this._tileZoom,b=this.options.maxZoom;if(void 0!==a){for(var c in this._levels)c=
Number(c),this._levels[c].el.children.length||c===a?(this._levels[c].el.style.zIndex=b-Math.abs(a-c),this._onUpdateLevel(c)):(Y(this._levels[c].el),this._removeTilesAtZoom(c),this._onRemoveLevel(c),delete this._levels[c]);c=this._levels[a];var d=this._map;return c||((c=this._levels[a]={}).el=T("div","leaflet-tile-container leaflet-zoom-animated",this._container),c.el.style.zIndex=b,c.origin=d.project(d.unproject(d.getPixelOrigin()),a).round(),c.zoom=a,this._setZoomTransform(c,d.getCenter(),d.getZoom()),
this._onCreateLevel(c)),this._level=c}},_onUpdateLevel:u,_onRemoveLevel:u,_onCreateLevel:u,_pruneTiles:function(){if(this._map){var a,b,c,d=this._map.getZoom();if(d>this.options.maxZoom||d<this.options.minZoom)this._removeAllTiles();else{for(a in this._tiles)(c=this._tiles[a]).retain=c.current;for(a in this._tiles)(c=this._tiles[a]).current&&!c.active&&(b=c.coords,this._retainParent(b.x,b.y,b.z,b.z-5)||this._retainChildren(b.x,b.y,b.z,b.z+2));for(a in this._tiles)this._tiles[a].retain||this._removeTile(a)}}},
_removeTilesAtZoom:function(a){for(var b in this._tiles)this._tiles[b].coords.z===a&&this._removeTile(b)},_removeAllTiles:function(){for(var a in this._tiles)this._removeTile(a)},_invalidateAll:function(){for(var a in this._levels)Y(this._levels[a].el),this._onRemoveLevel(Number(a)),delete this._levels[a];this._removeAllTiles();this._tileZoom=void 0},_retainParent:function(a,b,c,d){a=Math.floor(a/2);b=Math.floor(b/2);--c;var f=new n(+a,+b);f.z=+c;f=this._tileCoordsToKey(f);return(f=this._tiles[f])&&
f.active?f.retain=!0:(f&&f.loaded&&(f.retain=!0),d<c&&this._retainParent(a,b,c,d))},_retainChildren:function(a,b,c,d){for(var f=2*a;f<2*a+2;f++)for(var h=2*b;h<2*b+2;h++){var l=new n(f,h);l.z=c+1;l=this._tileCoordsToKey(l);(l=this._tiles[l])&&l.active?l.retain=!0:(l&&l.loaded&&(l.retain=!0),c+1<d&&this._retainChildren(f,h,c+1,d))}},_resetView:function(a){a=a&&(a.pinch||a.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),a,a)},_animateZoom:function(a){this._setView(a.center,a.zoom,!0,
a.noUpdate)},_clampZoom:function(a){var b=this.options;return void 0!==b.minNativeZoom&&a<b.minNativeZoom?b.minNativeZoom:void 0!==b.maxNativeZoom&&b.maxNativeZoom<a?b.maxNativeZoom:a},_setView:function(a,b,c,d){var f=Math.round(b);f=void 0!==this.options.maxZoom&&f>this.options.maxZoom||void 0!==this.options.minZoom&&f<this.options.minZoom?void 0:this._clampZoom(f);var h=this.options.updateWhenZooming&&f!==this._tileZoom;d&&!h||(this._tileZoom=f,this._abortLoading&&this._abortLoading(),this._updateLevels(),
this._resetGrid(),void 0!==f&&this._update(a),c||this._pruneTiles(),this._noPrune=!!c);this._setZoomTransforms(a,b)},_setZoomTransforms:function(a,b){for(var c in this._levels)this._setZoomTransform(this._levels[c],a,b)},_setZoomTransform:function(a,b,c){var d=this._map.getZoomScale(c,a.zoom);b=a.origin.multiplyBy(d).subtract(this._map._getNewPixelOrigin(b,c)).round();pa?Ka(a.el,b,d):ca(a.el,b)},_resetGrid:function(){var a=this._map,b=a.options.crs,c=this._tileSize=this.getTileSize(),d=this._tileZoom,
f=this._map.getPixelWorldBounds(this._tileZoom);f&&(this._globalTileRange=this._pxBoundsToTileRange(f));this._wrapX=b.wrapLng&&!this.options.noWrap&&[Math.floor(a.project([0,b.wrapLng[0]],d).x/c.x),Math.ceil(a.project([0,b.wrapLng[1]],d).x/c.y)];this._wrapY=b.wrapLat&&!this.options.noWrap&&[Math.floor(a.project([b.wrapLat[0],0],d).y/c.x),Math.ceil(a.project([b.wrapLat[1],0],d).y/c.y)]},_onMoveEnd:function(){this._map&&!this._map._animatingZoom&&this._update()},_getTiledPixelBounds:function(a){var b=
this._map,c=b._animatingZoom?Math.max(b._animateToZoom,b.getZoom()):b.getZoom();c=b.getZoomScale(c,this._tileZoom);a=b.project(a,this._tileZoom).floor();b=b.getSize().divideBy(2*c);return new y(a.subtract(b),a.add(b))},_update:function(a){var b=this._map;if(b){var c=this._clampZoom(b.getZoom());if(void 0===a&&(a=b.getCenter()),void 0!==this._tileZoom){b=this._getTiledPixelBounds(a);var d=this._pxBoundsToTileRange(b),f=d.getCenter();b=[];var h=this.options.keepBuffer;h=new y(d.getBottomLeft().subtract([h,
-h]),d.getTopRight().add([h,-h]));if(!(isFinite(d.min.x)&&isFinite(d.min.y)&&isFinite(d.max.x)&&isFinite(d.max.y)))throw Error("Attempted to load an infinite number of tiles");for(var l in this._tiles){var v=this._tiles[l].coords;v.z===this._tileZoom&&h.contains(new n(v.x,v.y))||(this._tiles[l].current=!1)}if(1<Math.abs(c-this._tileZoom))this._setView(a,c);else{for(c=d.min.y;c<=d.max.y;c++)for(a=d.min.x;a<=d.max.x;a++){var w;l=new n(a,c);l.z=this._tileZoom;this._isValidTile(l)&&((w=this._tiles[this._tileCoordsToKey(l)])?
w.current=!0:b.push(l))}if(b.sort(function(C,I){return C.distanceTo(f)-I.distanceTo(f)}),0!==b.length){this._loading||(this._loading=!0,this.fire("loading"));w=document.createDocumentFragment();for(a=0;a<b.length;a++)this._addTile(b[a],w);this._level.el.appendChild(w)}}}}},_isValidTile:function(a){var b=this._map.options.crs;if(!b.infinite){var c=this._globalTileRange;if(!b.wrapLng&&(a.x<c.min.x||a.x>c.max.x)||!b.wrapLat&&(a.y<c.min.y||a.y>c.max.y))return!1}if(!this.options.bounds)return!0;a=this._tileCoordsToBounds(a);
return A(this.options.bounds).overlaps(a)},_keyToBounds:function(a){return this._tileCoordsToBounds(this._keyToTileCoords(a))},_tileCoordsToNwSe:function(a){var b=this._map,c=this.getTileSize(),d=a.scaleBy(c);c=d.add(c);return[b.unproject(d,a.z),b.unproject(c,a.z)]},_tileCoordsToBounds:function(a){a=this._tileCoordsToNwSe(a);a=new z(a[0],a[1]);return this.options.noWrap||(a=this._map.wrapLatLngBounds(a)),a},_tileCoordsToKey:function(a){return a.x+":"+a.y+":"+a.z},_keyToTileCoords:function(a){a=a.split(":");
var b=new n(+a[0],+a[1]);return b.z=+a[2],b},_removeTile:function(a){var b=this._tiles[a];b&&(Y(b.el),delete this._tiles[a],this.fire("tileunload",{tile:b.el,coords:this._keyToTileCoords(a)}))},_initTile:function(a){O(a,"leaflet-tile");var b=this.getTileSize();a.style.width=b.x+"px";a.style.height=b.y+"px";a.onselectstart=u;a.onmousemove=u;Xa&&1>this.options.opacity&&oa(a,this.options.opacity);nb&&!ob&&(a.style.WebkitBackfaceVisibility="hidden")},_addTile:function(a,b){var c=this._getTilePos(a),d=
this._tileCoordsToKey(a),f=this.createTile(this._wrapCoords(a),e(this._tileReady,this,a));this._initTile(f);2>this.createTile.length&&P(e(this._tileReady,this,a,null,f));ca(f,c);this._tiles[d]={el:f,coords:a,current:!0};b.appendChild(f);this.fire("tileloadstart",{tile:f,coords:a})},_tileReady:function(a,b,c){b&&this.fire("tileerror",{error:b,tile:c,coords:a});var d=this._tileCoordsToKey(a);(c=this._tiles[d])&&(c.loaded=+new Date,this._map._fadeAnimated?(oa(c.el,0),V(this._fadeFrame),this._fadeFrame=
P(this._updateOpacity,this)):(c.active=!0,this._pruneTiles()),b||(O(c.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:c.el,coords:a})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),Xa||!this._map._fadeAnimated?P(this._pruneTiles,this):setTimeout(e(this._pruneTiles,this),250)))},_getTilePos:function(a){return a.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(a){var b=new n(this._wrapX?p(a.x,this._wrapX):a.x,this._wrapY?p(a.y,this._wrapY):a.y);return b.z=
a.z,b},_pxBoundsToTileRange:function(a){var b=this.getTileSize();return new y(a.min.unscaleBy(b).floor(),a.max.unscaleBy(b).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var a in this._tiles)if(!this._tiles[a].loaded)return!1;return!0}}),Wa=sb.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1},initialize:function(a,b){this._url=a;(b=E(this,b)).detectRetina&&Ia&&0<b.maxZoom&&(b.tileSize=Math.floor(b.tileSize/
2),b.zoomReverse?(b.zoomOffset--,b.minZoom++):(b.zoomOffset++,b.maxZoom--),b.minZoom=Math.max(0,b.minZoom));"string"==typeof b.subdomains&&(b.subdomains=b.subdomains.split(""));nb||this.on("tileunload",this._onTileRemove)},setUrl:function(a,b){return this._url===a&&void 0===b&&(b=!0),this._url=a,b||this.redraw(),this},createTile:function(a,b){var c=document.createElement("img");return Q(c,"load",e(this._tileOnLoad,this,b,c)),Q(c,"error",e(this._tileOnError,this,b,c)),!this.options.crossOrigin&&""!==
this.options.crossOrigin||(c.crossOrigin=!0===this.options.crossOrigin?"":this.options.crossOrigin),c.alt="",c.setAttribute("role","presentation"),c.src=this.getTileUrl(a),c},getTileUrl:function(a){var b,c={r:Ia?"@2x":"",s:this._getSubdomain(a),x:a.x,y:a.y,z:this._getZoomForUrl()};return this._map&&!this._map.options.crs.infinite&&(b=this._globalTileRange.max.y-a.y,this.options.tms&&(c.y=b),c["-y"]=b),N(this._url,B(c,this.options))},_tileOnLoad:function(a,b){Xa?setTimeout(e(a,this,null,b),0):a(null,
b)},_tileOnError:function(a,b,c){var d=this.options.errorTileUrl;d&&b.getAttribute("src")!==d&&(b.src=d);a(c,b)},_onTileRemove:function(a){a.tile.onload=null},_getZoomForUrl:function(){var a=this._tileZoom,b=this.options.maxZoom;return this.options.zoomReverse&&(a=b-a),a+this.options.zoomOffset},_getSubdomain:function(a){return this.options.subdomains[Math.abs(a.x+a.y)%this.options.subdomains.length]},_abortLoading:function(){var a,b;for(a in this._tiles)this._tiles[a].coords.z!==this._tileZoom&&
((b=this._tiles[a].el).onload=u,b.onerror=u,b.complete||(b.src="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=",Y(b),delete this._tiles[a]))},_removeTile:function(a){var b=this._tiles[a];if(b)return cd||b.el.setAttribute("src","data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs="),sb.prototype._removeTile.call(this,a)},_tileReady:function(a,b,c){if(this._map&&(!c||"data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs="!==c.getAttribute("src")))return sb.prototype._tileReady.call(this,
a,b,c)}}),yd=Wa.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(a,b){this._url=a;a=B({},this.defaultWmsParams);for(var c in b)c in this.options||(a[c]=b[c]);b=E(this,b).detectRetina&&Ia?2:1;c=this.getTileSize();a.width=c.x*b;a.height=c.y*b;this.wmsParams=a},onAdd:function(a){this._crs=this.options.crs||a.options.crs;this._wmsVersion=parseFloat(this.wmsParams.version);
this.wmsParams[1.3<=this._wmsVersion?"crs":"srs"]=this._crs.code;Wa.prototype.onAdd.call(this,a)},getTileUrl:function(a){var b=this._tileCoordsToNwSe(a),c=this._crs;c=F(c.project(b[0]),c.project(b[1]));b=c.min;c=c.max;b=(1.3<=this._wmsVersion&&this._crs===td?[b.y,b.x,c.y,c.x]:[b.x,b.y,c.x,c.y]).join(",");a=Wa.prototype.getTileUrl.call(this,a);return a+H(this.wmsParams,a,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+b},setParams:function(a,b){return B(this.wmsParams,a),b||this.redraw(),
this}});Wa.WMS=yd;Wc.wms=function(a,b){return new yd(a,b)};var ya=ua.extend({options:{padding:.1,tolerance:0},initialize:function(a){E(this,a);g(this);this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),this._zoomAnimated&&O(this._container,"leaflet-zoom-animated"));this.getPane().appendChild(this._container);this._update();this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this);this._destroyContainer()},getEvents:function(){var a=
{viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(a.zoomanim=this._onAnimZoom),a},_onAnimZoom:function(a){this._updateTransform(a.center,a.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(a,b){var c=this._map.getZoomScale(b,this._zoom),d=Fa(this._container),f=this._map.getSize().multiplyBy(.5+this.options.padding),h=this._map.project(this._center,b);a=this._map.project(a,
b).subtract(h);d=f.multiplyBy(-c).add(d).add(f).subtract(a);pa?Ka(this._container,d,c):ca(this._container,d)},_reset:function(){for(var a in this._update(),this._updateTransform(this._center,this._zoom),this._layers)this._layers[a]._reset()},_onZoomEnd:function(){for(var a in this._layers)this._layers[a]._project()},_updatePaths:function(){for(var a in this._layers)this._layers[a]._update()},_update:function(){var a=this.options.padding,b=this._map.getSize(),c=this._map.containerPointToLayerPoint(b.multiplyBy(-a)).round();
this._bounds=new y(c,c.add(b.multiplyBy(1+2*a)).round());this._center=this._map.getCenter();this._zoom=this._map.getZoom()}}),Zc=ya.extend({getEvents:function(){var a=ya.prototype.getEvents.call(this);return a.viewprereset=this._onViewPreReset,a},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){ya.prototype.onAdd.call(this);this._draw()},_initContainer:function(){var a=this._container=document.createElement("canvas");Q(a,"mousemove",this._onMouseMove,this);Q(a,"click dblclick mousedown mouseup contextmenu",
this._onClick,this);Q(a,"mouseout",this._handleMouseOut,this);this._ctx=a.getContext("2d")},_destroyContainer:function(){V(this._redrawRequest);delete this._ctx;Y(this._container);ba(this._container);delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){for(var a in this._redrawBounds=null,this._layers)this._layers[a]._update();this._redraw()}},_update:function(){var a,b,c,d;this._map._animatingZoom&&this._bounds||(ya.prototype._update.call(this),a=this._bounds,b=this._container,
c=a.getSize(),d=Ia?2:1,ca(b,a.min),b.width=d*c.x,b.height=d*c.y,b.style.width=c.x+"px",b.style.height=c.y+"px",Ia&&this._ctx.scale(2,2),this._ctx.translate(-a.min.x,-a.min.y),this.fire("update"))},_reset:function(){ya.prototype._reset.call(this);this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(a){this._updateDashArray(a);a=(this._layers[g(a)]=a)._order={layer:a,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=a);this._drawLast=a;
this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(a){this._requestRedraw(a)},_removePath:function(a){var b=a._order,c=b.next;b=b.prev;c?c.prev=b:this._drawLast=b;b?b.next=c:this._drawFirst=c;delete a._order;delete this._layers[g(a)];this._requestRedraw(a)},_updatePath:function(a){this._extendRedrawBounds(a);a._project();a._update();this._requestRedraw(a)},_updateStyle:function(a){this._updateDashArray(a);this._requestRedraw(a)},_updateDashArray:function(a){if("string"==typeof a.options.dashArray){for(var b,
c=a.options.dashArray.split(/[, ]+/),d=[],f=0;f<c.length;f++){if(b=Number(c[f]),isNaN(b))return;d.push(b)}a.options._dashArray=d}else a.options._dashArray=a.options.dashArray},_requestRedraw:function(a){this._map&&(this._extendRedrawBounds(a),this._redrawRequest=this._redrawRequest||P(this._redraw,this))},_extendRedrawBounds:function(a){var b;a._pxBounds&&(b=(a.options.weight||0)+1,this._redrawBounds=this._redrawBounds||new y,this._redrawBounds.extend(a._pxBounds.min.subtract([b,b])),this._redrawBounds.extend(a._pxBounds.max.add([b,
b])))},_redraw:function(){this._redrawRequest=null;this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil());this._clear();this._draw();this._redrawBounds=null},_clear:function(){var a,b=this._redrawBounds;b?(a=b.getSize(),this._ctx.clearRect(b.min.x,b.min.y,a.x,a.y)):(this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore())},_draw:function(){var a,b=this._redrawBounds;this._ctx.save();
b&&(a=b.getSize(),this._ctx.beginPath(),this._ctx.rect(b.min.x,b.min.y,a.x,a.y),this._ctx.clip());this._drawing=!0;for(var c=this._drawFirst;c;c=c.next)a=c.layer,(!b||a._pxBounds&&a._pxBounds.intersects(b))&&a._updatePath();this._drawing=!1;this._ctx.restore()},_updatePoly:function(a,b){if(this._drawing){var c,d,f=a._parts,h=f.length,l=this._ctx;if(h){l.beginPath();for(c=0;c<h;c++){var v=0;for(d=f[c].length;v<d;v++){var w=f[c][v];l[v?"lineTo":"moveTo"](w.x,w.y)}b&&l.closePath()}this._fillStroke(l,
a)}}},_updateCircle:function(a){var b,c,d,f;this._drawing&&!a._empty()&&(b=a._point,c=this._ctx,d=Math.max(Math.round(a._radius),1),1!=(f=(Math.max(Math.round(a._radiusY),1)||d)/d)&&(c.save(),c.scale(1,f)),c.beginPath(),c.arc(b.x,b.y/f,d,0,2*Math.PI,!1),1!=f&&c.restore(),this._fillStroke(c,a))},_fillStroke:function(a,b){var c=b.options;c.fill&&(a.globalAlpha=c.fillOpacity,a.fillStyle=c.fillColor||c.color,a.fill(c.fillRule||"evenodd"));c.stroke&&0!==c.weight&&(a.setLineDash&&a.setLineDash(b.options&&
b.options._dashArray||[]),a.globalAlpha=c.opacity,a.lineWidth=c.weight,a.strokeStyle=c.color,a.lineCap=c.lineCap,a.lineJoin=c.lineJoin,a.stroke())},_onClick:function(a){for(var b,c,d=this._map.mouseEventToLayerPoint(a),f=this._drawFirst;f;f=f.next)(b=f.layer).options.interactive&&b._containsPoint(d)&&(("click"===a.type||"preclick"!==a.type)&&this._map._draggableMoved(b)||(c=b));c&&(jc(a),this._fireEvent([c],a))},_onMouseMove:function(a){var b;!this._map||this._map.dragging.moving()||this._map._animatingZoom||
(b=this._map.mouseEventToLayerPoint(a),this._handleMouseHover(a,b))},_handleMouseOut:function(a){var b=this._hoveredLayer;b&&(aa(this._container,"leaflet-interactive"),this._fireEvent([b],a,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(a,b){if(!this._mouseHoverThrottled){for(var c,d,f=this._drawFirst;f;f=f.next)(c=f.layer).options.interactive&&c._containsPoint(b)&&(d=c);d!==this._hoveredLayer&&(this._handleMouseOut(a),d&&(O(this._container,"leaflet-interactive"),
this._fireEvent([d],a,"mouseover"),this._hoveredLayer=d));this._hoveredLayer&&this._fireEvent([this._hoveredLayer],a);this._mouseHoverThrottled=!0;setTimeout(e(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(a,b,c){this._map._fireDOMEvent(b,c||b.type,a)},_bringToFront:function(a){var b,c,d=a._order;d&&(b=d.next,c=d.prev,b&&((b.prev=c)?c.next=b:b&&(this._drawFirst=b),d.prev=this._drawLast,(this._drawLast.next=d).next=null,this._drawLast=d,this._requestRedraw(a)))},_bringToBack:function(a){var b,
c,d=a._order;d&&(b=d.next,(c=d.prev)&&((c.next=b)?b.prev=c:c&&(this._drawLast=c),d.prev=null,d.next=this._drawFirst,this._drawFirst.prev=d,this._drawFirst=d,this._requestRedraw(a)))}}),tb=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(a){return document.createElement("<lvml:"+a+' class="lvml">')}}catch(a){return function(b){return document.createElement("<"+b+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}}(),ae={_initContainer:function(){this._container=
T("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(ya.prototype._update.call(this),this.fire("update"))},_initPath:function(a){var b=a._container=tb("shape");O(b,"leaflet-vml-shape "+(this.options.className||""));b.coordsize="1 1";a._path=tb("path");b.appendChild(a._path);this._updateStyle(a);this._layers[g(a)]=a},_addPath:function(a){var b=a._container;this._container.appendChild(b);a.options.interactive&&a.addInteractiveTarget(b)},_removePath:function(a){var b=a._container;
Y(b);a.removeInteractiveTarget(b);delete this._layers[g(a)]},_updateStyle:function(a){var b=a._stroke,c=a._fill,d=a.options,f=a._container;f.stroked=!!d.stroke;f.filled=!!d.fill;d.stroke?(b=b||(a._stroke=tb("stroke")),f.appendChild(b),b.weight=d.weight+"px",b.color=d.color,b.opacity=d.opacity,d.dashArray?b.dashStyle=va(d.dashArray)?d.dashArray.join(" "):d.dashArray.replace(/( *, *)/g," "):b.dashStyle="",b.endcap=d.lineCap.replace("butt","flat"),b.joinstyle=d.lineJoin):b&&(f.removeChild(b),a._stroke=
null);d.fill?(c=c||(a._fill=tb("fill")),f.appendChild(c),c.color=d.fillColor||d.color,c.opacity=d.fillOpacity):c&&(f.removeChild(c),a._fill=null)},_updateCircle:function(a){var b=a._point.round(),c=Math.round(a._radius),d=Math.round(a._radiusY||c);this._setPath(a,a._empty()?"M0 0":"AL "+b.x+","+b.y+" "+c+","+d+" 0,23592600")},_setPath:function(a,b){a._path.v=b},_bringToFront:function(a){Qa(a._container)},_bringToBack:function(a){Ra(a._container)}},Qb=Kb?tb:ha,lb=ya.extend({getEvents:function(){var a=
ya.prototype.getEvents.call(this);return a.zoomstart=this._onZoomStart,a},_initContainer:function(){this._container=Qb("svg");this._container.setAttribute("pointer-events","none");this._rootGroup=Qb("g");this._container.appendChild(this._rootGroup)},_destroyContainer:function(){Y(this._container);ba(this._container);delete this._container;delete this._rootGroup;delete this._svgSize},_onZoomStart:function(){this._update()},_update:function(){var a,b,c;this._map._animatingZoom&&this._bounds||(ya.prototype._update.call(this),
b=(a=this._bounds).getSize(),c=this._container,this._svgSize&&this._svgSize.equals(b)||(this._svgSize=b,c.setAttribute("width",b.x),c.setAttribute("height",b.y)),ca(c,a.min),c.setAttribute("viewBox",[a.min.x,a.min.y,b.x,b.y].join(" ")),this.fire("update"))},_initPath:function(a){var b=a._path=Qb("path");a.options.className&&O(b,a.options.className);a.options.interactive&&O(b,"leaflet-interactive");this._updateStyle(a);this._layers[g(a)]=a},_addPath:function(a){this._rootGroup||this._initContainer();
this._rootGroup.appendChild(a._path);a.addInteractiveTarget(a._path)},_removePath:function(a){Y(a._path);a.removeInteractiveTarget(a._path);delete this._layers[g(a)]},_updatePath:function(a){a._project();a._update()},_updateStyle:function(a){var b=a._path;a=a.options;b&&(a.stroke?(b.setAttribute("stroke",a.color),b.setAttribute("stroke-opacity",a.opacity),b.setAttribute("stroke-width",a.weight),b.setAttribute("stroke-linecap",a.lineCap),b.setAttribute("stroke-linejoin",a.lineJoin),a.dashArray?b.setAttribute("stroke-dasharray",
a.dashArray):b.removeAttribute("stroke-dasharray"),a.dashOffset?b.setAttribute("stroke-dashoffset",a.dashOffset):b.removeAttribute("stroke-dashoffset")):b.setAttribute("stroke","none"),a.fill?(b.setAttribute("fill",a.fillColor||a.color),b.setAttribute("fill-opacity",a.fillOpacity),b.setAttribute("fill-rule",a.fillRule||"evenodd")):b.setAttribute("fill","none"))},_updatePoly:function(a,b){this._setPath(a,ea(a._parts,b))},_updateCircle:function(a){var b=a._point,c=Math.max(Math.round(a._radius),1),
d="a"+c+","+(Math.max(Math.round(a._radiusY),1)||c)+" 0 1,0 ";b=a._empty()?"M0 0":"M"+(b.x-c)+","+b.y+d+2*c+",0 "+d+2*-c+",0 ";this._setPath(a,b)},_setPath:function(a,b){a._path.setAttribute("d",b)},_bringToFront:function(a){Qa(a._path)},_bringToBack:function(a){Ra(a._path)}});Kb&&lb.include(ae);S.include({getRenderer:function(a){a=(a=a.options.renderer||this._getPaneRenderer(a.options.pane)||this.options.renderer||this._renderer)||(this._renderer=this._createRenderer());return this.hasLayer(a)||
this.addLayer(a),a},_getPaneRenderer:function(a){if("overlayPane"===a||void 0===a)return!1;var b=this._paneRenderers[a];return void 0===b&&(b=this._createRenderer({pane:a}),this._paneRenderers[a]=b),b},_createRenderer:function(a){return this.options.preferCanvas&&Xc(a)||$c(a)}});var zd=Ua.extend({initialize:function(a,b){Ua.prototype.initialize.call(this,this._boundsToLatLngs(a),b)},setBounds:function(a){return this.setLatLngs(this._boundsToLatLngs(a))},_boundsToLatLngs:function(a){return[(a=A(a)).getSouthWest(),
a.getNorthWest(),a.getNorthEast(),a.getSouthEast()]}});lb.create=Qb;lb.pointsToPath=ea;Ca.geometryToLayer=lc;Ca.coordsToLatLng=mc;Ca.coordsToLatLngs=Hb;Ca.latLngToCoords=nc;Ca.latLngsToCoords=Ib;Ca.getFeature=Va;Ca.asFeature=Jb;S.mergeOptions({boxZoom:!0});var Ad=xa.extend({initialize:function(a){this._map=a;this._container=a._container;this._pane=a._panes.overlayPane;this._resetStateTimeout=0;a.on("unload",this._destroy,this)},addHooks:function(){Q(this._container,"mousedown",this._onMouseDown,this)},
removeHooks:function(){ba(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){Y(this._pane);delete this._pane},_resetState:function(){this._resetStateTimeout=0;this._moved=!1},_clearDeferredResetState:function(){0!==this._resetStateTimeout&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(a){if(!a.shiftKey||1!==a.which&&1!==a.button)return!1;this._clearDeferredResetState();this._resetState();pb();ac();
this._startPoint=this._map.mouseEventToContainerPoint(a);Q(document,{contextmenu:za,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(a){this._moved||(this._moved=!0,this._box=T("div","leaflet-zoom-box",this._container),O(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart"));this._point=this._map.mouseEventToContainerPoint(a);a=new y(this._point,this._startPoint);var b=a.getSize();ca(this._box,a.min);this._box.style.width=b.x+
"px";this._box.style.height=b.y+"px"},_finish:function(){this._moved&&(Y(this._box),aa(this._container,"leaflet-crosshair"));xc();bc();ba(document,{contextmenu:za,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(a){var b;1!==a.which&&1!==a.button||(this._finish(),this._moved&&(this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(e(this._resetState,this),0),b=new z(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point)),
this._map.fitBounds(b).fire("boxzoomend",{boxZoomBounds:b})))},_onKeyDown:function(a){27===a.keyCode&&this._finish()}});S.addInitHook("addHandler","boxZoom",Ad);S.mergeOptions({doubleClickZoom:!0});var Bd=xa.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(a){var b=this._map,c=b.getZoom(),d=b.options.zoomDelta;c=a.originalEvent.shiftKey?c-d:c+d;"center"===b.options.doubleClickZoom?
b.setZoom(c):b.setZoomAround(a.containerPoint,c)}});S.addInitHook("addHandler","doubleClickZoom",Bd);S.mergeOptions({dragging:!0,inertia:!ob,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var Cd=xa.extend({addHooks:function(){var a;this._draggable||(a=this._map,this._draggable=new Na(a._mapPane,a._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,
this),a.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),a.on("zoomend",this._onZoomEnd,this),a.whenReady(this._onZoomEnd,this)));O(this._map._container,"leaflet-grab leaflet-touch-drag");this._draggable.enable();this._positions=[];this._times=[]},removeHooks:function(){aa(this._map._container,"leaflet-grab");aa(this._map._container,"leaflet-touch-drag");this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&
this._draggable._moving},_onDragStart:function(){var a,b=this._map;b._stop();this._map.options.maxBounds&&this._map.options.maxBoundsViscosity?(a=A(this._map.options.maxBounds),this._offsetLimit=F(this._map.latLngToContainerPoint(a.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(a.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))):this._offsetLimit=null;b.fire("movestart").fire("dragstart");b.options.inertia&&
(this._positions=[],this._times=[])},_onDrag:function(a){var b,c;this._map.options.inertia&&(b=this._lastTime=+new Date,c=this._lastPos=this._draggable._absPos||this._draggable._newPos,this._positions.push(c),this._times.push(b),this._prunePositions(b));this._map.fire("move",a).fire("drag",a)},_prunePositions:function(a){for(;1<this._positions.length&&50<a-this._times[0];)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var a=this._map.getSize().divideBy(2);this._initialWorldOffset=
this._map.latLngToLayerPoint([0,0]).subtract(a).x;this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(a,b){return a-(a-b)*this._viscosity},_onPreDragLimit:function(){var a,b;this._viscosity&&this._offsetLimit&&(a=this._draggable._newPos.subtract(this._draggable._startPos),b=this._offsetLimit,a.x<b.min.x&&(a.x=this._viscousLimit(a.x,b.min.x)),a.y<b.min.y&&(a.y=this._viscousLimit(a.y,b.min.y)),a.x>b.max.x&&(a.x=this._viscousLimit(a.x,b.max.x)),a.y>b.max.y&&(a.y=this._viscousLimit(a.y,
b.max.y)),this._draggable._newPos=this._draggable._startPos.add(a))},_onPreDragWrap:function(){var a=this._worldWidth,b=Math.round(a/2),c=this._initialWorldOffset,d=this._draggable._newPos.x,f=(d-b+c)%a+b-c;a=(d+b+c)%a-b-c;c=Math.abs(f+c)<Math.abs(a+c)?f:a;this._draggable._absPos=this._draggable._newPos.clone();this._draggable._newPos.x=c},_onDragEnd:function(a){var b,c,d,f,h,l,v,w,C,I=this._map,M=I.options,ia=!M.inertia||2>this._times.length;I.fire("dragend",a);ia?I.fire("moveend"):(this._prunePositions(+new Date),
b=this._lastPos.subtract(this._positions[0]),c=(this._lastTime-this._times[0])/1E3,d=M.easeLinearity,h=(f=b.multiplyBy(d/c)).distanceTo([0,0]),l=Math.min(M.inertiaMaxSpeed,h),v=f.multiplyBy(l/h),w=l/(M.inertiaDeceleration*d),(C=v.multiplyBy(-w/2).round()).x||C.y?(C=I._limitOffset(C,I.options.maxBounds),P(function(){I.panBy(C,{duration:w,easeLinearity:d,noMoveStart:!0,animate:!0})})):I.fire("moveend"))}});S.addInitHook("addHandler","dragging",Cd);S.mergeOptions({keyboard:!0,keyboardPanDelta:80});var Dd=
xa.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(a){this._map=a;this._setPanDelta(a.options.keyboardPanDelta);this._setZoomDelta(a.options.zoomDelta)},addHooks:function(){var a=this._map._container;0>=a.tabIndex&&(a.tabIndex="0");Q(a,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this);this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks();ba(this._map._container,
{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this);this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){var a,b,c,d;this._focused||(a=document.body,b=document.documentElement,c=a.scrollTop||b.scrollTop,d=a.scrollLeft||b.scrollLeft,this._map._container.focus(),window.scrollTo(d,c))},_onFocus:function(){this._focused=!0;this._map.fire("focus")},_onBlur:function(){this._focused=!1;this._map.fire("blur")},_setPanDelta:function(a){for(var b=
this._panKeys={},c=this.keyCodes,d=0,f=c.left.length;d<f;d++)b[c.left[d]]=[-1*a,0];d=0;for(f=c.right.length;d<f;d++)b[c.right[d]]=[a,0];d=0;for(f=c.down.length;d<f;d++)b[c.down[d]]=[0,a];d=0;for(f=c.up.length;d<f;d++)b[c.up[d]]=[0,-1*a]},_setZoomDelta:function(a){for(var b=this._zoomKeys={},c=this.keyCodes,d=0,f=c.zoomIn.length;d<f;d++)b[c.zoomIn[d]]=a;d=0;for(f=c.zoomOut.length;d<f;d++)b[c.zoomOut[d]]=-a},_addHooks:function(){Q(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){ba(document,
"keydown",this._onKeyDown,this)},_onKeyDown:function(a){if(!(a.altKey||a.ctrlKey||a.metaKey)){var b,c=a.keyCode,d=this._map;if(c in this._panKeys)d._panAnim&&d._panAnim._inProgress||(b=this._panKeys[c],a.shiftKey&&(b=r(b).multiplyBy(3)),d.panBy(b),d.options.maxBounds&&d.panInsideBounds(d.options.maxBounds));else if(c in this._zoomKeys)d.setZoom(d.getZoom()+(a.shiftKey?3:1)*this._zoomKeys[c]);else{if(27!==c||!d._popup||!d._popup.options.closeOnEscapeKey)return;d.closePopup()}za(a)}}});S.addInitHook("addHandler",
"keyboard",Dd);S.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var Ed=xa.extend({addHooks:function(){Q(this._map._container,"wheel",this._onWheelScroll,this);this._delta=0},removeHooks:function(){ba(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(a){var b=Oc(a),c=this._map.options.wheelDebounceTime;this._delta+=b;this._lastMousePos=this._map.mouseEventToContainerPoint(a);this._startTime||(this._startTime=+new Date);b=Math.max(c-(new Date-
this._startTime),0);clearTimeout(this._timer);this._timer=setTimeout(e(this._performZoom,this),b);za(a)},_performZoom:function(){var a=this._map,b=a.getZoom(),c=this._map.options.zoomSnap||0;a._stop();var d=4*Math.log(2/(1+Math.exp(-Math.abs(this._delta/(4*this._map.options.wheelPxPerZoomLevel)))))/Math.LN2;c=c?Math.ceil(d/c)*c:d;c=a._limitZoom(b+(0<this._delta?c:-c))-b;this._delta=0;this._startTime=null;c&&("center"===a.options.scrollWheelZoom?a.setZoom(b+c):a.setZoomAround(this._lastMousePos,b+
c))}});S.addInitHook("addHandler","scrollWheelZoom",Ed);S.mergeOptions({tap:!0,tapTolerance:15});var Fd=xa.extend({addHooks:function(){Q(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){ba(this._map._container,"touchstart",this._onDown,this)},_onDown:function(a){if(a.touches){if(na(a),this._fireClick=!0,1<a.touches.length)return this._fireClick=!1,void clearTimeout(this._holdTimeout);var b=a.touches[0];a=b.target;this._startPos=this._newPos=new n(b.clientX,b.clientY);a.tagName&&
"a"===a.tagName.toLowerCase()&&O(a,"leaflet-active");this._holdTimeout=setTimeout(e(function(){this._isTapValid()&&(this._fireClick=!1,this._onUp(),this._simulateEvent("contextmenu",b))},this),1E3);this._simulateEvent("mousedown",b);Q(document,{touchmove:this._onMove,touchend:this._onUp},this)}},_onUp:function(a){var b,c;clearTimeout(this._holdTimeout);ba(document,{touchmove:this._onMove,touchend:this._onUp},this);this._fireClick&&a&&a.changedTouches&&((c=(b=a.changedTouches[0]).target)&&c.tagName&&
"a"===c.tagName.toLowerCase()&&aa(c,"leaflet-active"),this._simulateEvent("mouseup",b),this._isTapValid()&&this._simulateEvent("click",b))},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_onMove:function(a){a=a.touches[0];this._newPos=new n(a.clientX,a.clientY);this._simulateEvent("mousemove",a)},_simulateEvent:function(a,b){var c=document.createEvent("MouseEvents");c._simulated=!0;b.target._simulatedClick=!0;c.initMouseEvent(a,!0,!0,window,
1,b.screenX,b.screenY,b.clientX,b.clientY,!1,!1,!1,!1,0,null);b.target.dispatchEvent(c)}});!wa||sa&&!gb||S.addInitHook("addHandler","tap",Fd);S.mergeOptions({touchZoom:wa&&!ob,bounceAtZoomLimits:!0});var Gd=xa.extend({addHooks:function(){O(this._map._container,"leaflet-touch-zoom");Q(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){aa(this._map._container,"leaflet-touch-zoom");ba(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(a){var b,
c,d=this._map;!a.touches||2!==a.touches.length||d._animatingZoom||this._zooming||(b=d.mouseEventToContainerPoint(a.touches[0]),c=d.mouseEventToContainerPoint(a.touches[1]),this._centerPoint=d.getSize()._divideBy(2),this._startLatLng=d.containerPointToLatLng(this._centerPoint),"center"!==d.options.touchZoom&&(this._pinchStartLatLng=d.containerPointToLatLng(b.add(c)._divideBy(2))),this._startDist=b.distanceTo(c),this._startZoom=d.getZoom(),this._moved=!1,this._zooming=!0,d._stop(),Q(document,"touchmove",
this._onTouchMove,this),Q(document,"touchend",this._onTouchEnd,this),na(a))},_onTouchMove:function(a){if(a.touches&&2===a.touches.length&&this._zooming){var b=this._map,c=b.mouseEventToContainerPoint(a.touches[0]),d=b.mouseEventToContainerPoint(a.touches[1]),f=c.distanceTo(d)/this._startDist;if(this._zoom=b.getScaleZoom(f,this._startZoom),!b.options.bounceAtZoomLimits&&(this._zoom<b.getMinZoom()&&1>f||this._zoom>b.getMaxZoom()&&1<f)&&(this._zoom=b._limitZoom(this._zoom)),"center"===b.options.touchZoom){if(this._center=
this._startLatLng,1==f)return}else{c=c._add(d)._divideBy(2)._subtract(this._centerPoint);if(1==f&&0===c.x&&0===c.y)return;this._center=b.unproject(b.project(this._pinchStartLatLng,this._zoom).subtract(c),this._zoom)}this._moved||(b._moveStart(!0,!1),this._moved=!0);V(this._animRequest);b=e(b._move,b,this._center,this._zoom,{pinch:!0,round:!1});this._animRequest=P(b,this,!0);na(a)}},_onTouchEnd:function(){this._moved&&this._zooming?(this._zooming=!1,V(this._animRequest),ba(document,"touchmove",this._onTouchMove,
this),ba(document,"touchend",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))):this._zooming=!1}});S.addInitHook("addHandler","touchZoom",Gd);S.BoxZoom=Ad;S.DoubleClickZoom=Bd;S.Drag=Cd;S.Keyboard=Dd;S.ScrollWheelZoom=Ed;S.Tap=Fd;S.TouchZoom=Gd;q.version="1.7.1";q.Control=ta;q.control=ib;q.Browser=Pd;q.Evented=mb;q.Mixin=Vd;q.Util=
Jd;q.Class=U;q.Handler=xa;q.extend=B;q.bind=e;q.stamp=g;q.setOptions=E;q.DomEvent=Rd;q.DomUtil=Qd;q.PosAnimation=jd;q.Draggable=Na;q.LineUtil=Wd;q.PolyUtil=Xd;q.Point=n;q.point=r;q.Bounds=y;q.bounds=F;q.Transformation=fa;q.transformation=da;q.Projection=Yd;q.LatLng=x;q.latLng=G;q.LatLngBounds=z;q.latLngBounds=A;q.CRS=Da;q.GeoJSON=Ca;q.geoJSON=Vc;q.geoJson=Vc;q.Layer=ua;q.LayerGroup=$a;q.layerGroup=function(a,b){return new $a(a,b)};q.FeatureGroup=Ta;q.featureGroup=function(a,b){return new Ta(a,b)};
q.ImageOverlay=Pb;q.imageOverlay=function(a,b,c){return new Pb(a,b,c)};q.VideoOverlay=vd;q.videoOverlay=function(a,b,c){return new vd(a,b,c)};q.SVGOverlay=wd;q.svgOverlay=function(a,b,c){return new wd(a,b,c)};q.DivOverlay=Ea;q.Popup=bb;q.popup=function(a,b){return new bb(a,b)};q.Tooltip=cb;q.tooltip=function(a,b){return new cb(a,b)};q.Icon=ab;q.icon=function(a){return new ab(a)};q.DivIcon=xd;q.divIcon=function(a){return new xd(a)};q.Marker=kb;q.marker=function(a,b){return new kb(a,b)};q.TileLayer=
Wa;q.tileLayer=Wc;q.GridLayer=sb;q.gridLayer=function(a){return new sb(a)};q.SVG=lb;q.svg=$c;q.Renderer=ya;q.Canvas=Zc;q.canvas=Xc;q.Path=Ja;q.CircleMarker=Ob;q.circleMarker=function(a,b){return new Ob(a,b)};q.Circle=Ec;q.circle=function(a,b,c){return new Ec(a,b,c)};q.Polyline=Ba;q.polyline=function(a,b){return new Ba(a,b)};q.Polygon=Ua;q.polygon=function(a,b){return new Ua(a,b)};q.Rectangle=zd;q.rectangle=function(a,b){return new zd(a,b)};q.Map=S;q.map=function(a,b){return new S(a,b)};var be=window.L;
q.noConflict=function(){return window.L=be,this};window.L=q});!function(q,B){"object"==typeof exports&&"undefined"!=typeof module?B(exports):"function"==typeof define&&define.amd?define(["exports"],B):B((q.Leaflet=q.Leaflet||{},q.Leaflet.markercluster=q.Leaflet.markercluster||{}))}(this,function(q){var B=L.MarkerClusterGroup=L.FeatureGroup.extend({options:{maxClusterRadius:80,iconCreateFunction:null,clusterPane:L.Marker.prototype.options.pane,spiderfyOnMaxZoom:!0,showCoverageOnHover:!0,zoomToBoundsOnClick:!0,singleMarkerMode:!1,disableClusteringAtZoom:null,
removeOutsideVisibleBounds:!0,animate:!0,animateAddingMarkers:!1,spiderfyDistanceMultiplier:1,spiderLegPolylineOptions:{weight:1.5,color:"#222",opacity:.5},chunkedLoading:!1,chunkInterval:200,chunkDelay:50,chunkProgress:null,polygonOptions:{}},initialize:function(e){L.Util.setOptions(this,e);this.options.iconCreateFunction||(this.options.iconCreateFunction=this._defaultIconCreateFunction);this._featureGroup=L.featureGroup();this._featureGroup.addEventParent(this);this._nonPointGroup=L.featureGroup();
this._nonPointGroup.addEventParent(this);this._inZoomAnimation=0;this._needsClustering=[];this._needsRemoving=[];this._currentShownBounds=null;this._queue=[];this._childMarkerEventHandlers={dragstart:this._childMarkerDragStart,move:this._childMarkerMoved,dragend:this._childMarkerDragEnd};e=L.DomUtil.TRANSITION&&this.options.animate;L.extend(this,e?this._withAnimation:this._noAnimation);this._markerCluster=e?L.MarkerCluster:L.MarkerClusterNonAnimated},addLayer:function(e){if(e instanceof L.LayerGroup)return this.addLayers([e]);
if(!e.getLatLng)return this._nonPointGroup.addLayer(e),this.fire("layeradd",{layer:e}),this;if(!this._map)return this._needsClustering.push(e),this.fire("layeradd",{layer:e}),this;if(this.hasLayer(e))return this;this._unspiderfy&&this._unspiderfy();this._addLayer(e,this._maxZoom);this.fire("layeradd",{layer:e});this._topClusterLevel._recalculateBounds();this._refreshClustersIcons();var g=e,k=this._zoom;if(e.__parent)for(;g.__parent._zoom>=k;)g=g.__parent;return this._currentShownBounds.contains(g.getLatLng())&&
(this.options.animateAddingMarkers?this._animationAddLayer(e,g):this._animationAddLayerNonAnimated(e,g)),this},removeLayer:function(e){return e instanceof L.LayerGroup?this.removeLayers([e]):e.getLatLng?this._map?e.__parent?(this._unspiderfy&&(this._unspiderfy(),this._unspiderfyLayer(e)),this._removeLayer(e,!0),this.fire("layerremove",{layer:e}),this._topClusterLevel._recalculateBounds(),this._refreshClustersIcons(),e.off(this._childMarkerEventHandlers,this),this._featureGroup.hasLayer(e)&&(this._featureGroup.removeLayer(e),
e.clusterShow&&e.clusterShow()),this):this:(!this._arraySplice(this._needsClustering,e)&&this.hasLayer(e)&&this._needsRemoving.push({layer:e,latlng:e._latlng}),this.fire("layerremove",{layer:e}),this):(this._nonPointGroup.removeLayer(e),this.fire("layerremove",{layer:e}),this)},addLayers:function(e,g){if(!L.Util.isArray(e))return this.addLayer(e);var k=this._featureGroup,p=this._nonPointGroup,u=this.options.chunkedLoading,m=this.options.chunkInterval,t=this.options.chunkProgress,D=e.length,E=0,H=
!0;if(this._map){var N=(new Date).getTime(),X=L.bind(function(){for(var P=(new Date).getTime();D>E&&!(u&&0===E%200&&(new Date).getTime()-P>m);E++)if(R=e[E],R instanceof L.LayerGroup)H&&(e=e.slice(),H=!1),this._extractNonGroupLayers(R,e),D=e.length;else if(R.getLatLng){if(!this.hasLayer(R)&&(this._addLayer(R,this._maxZoom),g||this.fire("layeradd",{layer:R}),R.__parent&&2===R.__parent.getChildCount())){var V=R.__parent.getAllChildMarkers();k.removeLayer(V[0]===R?V[1]:V[0])}}else p.addLayer(R),g||this.fire("layeradd",
{layer:R});t&&t(E,D,(new Date).getTime()-N);E===D?(this._topClusterLevel._recalculateBounds(),this._refreshClustersIcons(),this._topClusterLevel._recursivelyAddChildrenToMap(null,this._zoom,this._currentShownBounds)):setTimeout(X,this.options.chunkDelay)},this);X()}else for(var J=this._needsClustering;D>E;E++){var R=e[E];R instanceof L.LayerGroup?(H&&(e=e.slice(),H=!1),this._extractNonGroupLayers(R,e),D=e.length):R.getLatLng?this.hasLayer(R)||J.push(R):p.addLayer(R)}return this},removeLayers:function(e){var g,
k=e.length,p=this._featureGroup,u=this._nonPointGroup,m=!0;if(!this._map){for(g=0;k>g;g++){var t=e[g];t instanceof L.LayerGroup?(m&&(e=e.slice(),m=!1),this._extractNonGroupLayers(t,e),k=e.length):(this._arraySplice(this._needsClustering,t),u.removeLayer(t),this.hasLayer(t)&&this._needsRemoving.push({layer:t,latlng:t._latlng}),this.fire("layerremove",{layer:t}))}return this}if(this._unspiderfy){this._unspiderfy();var D=e.slice(),E=k;for(g=0;E>g;g++)t=D[g],t instanceof L.LayerGroup?(this._extractNonGroupLayers(t,
D),E=D.length):this._unspiderfyLayer(t)}for(g=0;k>g;g++)t=e[g],t instanceof L.LayerGroup?(m&&(e=e.slice(),m=!1),this._extractNonGroupLayers(t,e),k=e.length):t.__parent?(this._removeLayer(t,!0,!0),this.fire("layerremove",{layer:t}),p.hasLayer(t)&&(p.removeLayer(t),t.clusterShow&&t.clusterShow())):(u.removeLayer(t),this.fire("layerremove",{layer:t}));return this._topClusterLevel._recalculateBounds(),this._refreshClustersIcons(),this._topClusterLevel._recursivelyAddChildrenToMap(null,this._zoom,this._currentShownBounds),
this},clearLayers:function(){return this._map||(this._needsClustering=[],this._needsRemoving=[],delete this._gridClusters,delete this._gridUnclustered),this._noanimationUnspiderfy&&this._noanimationUnspiderfy(),this._featureGroup.clearLayers(),this._nonPointGroup.clearLayers(),this.eachLayer(function(e){e.off(this._childMarkerEventHandlers,this);delete e.__parent},this),this._map&&this._generateInitialClusters(),this},getBounds:function(){var e=new L.LatLngBounds;this._topClusterLevel&&e.extend(this._topClusterLevel._bounds);
for(var g=this._needsClustering.length-1;0<=g;g--)e.extend(this._needsClustering[g].getLatLng());return e.extend(this._nonPointGroup.getBounds()),e},eachLayer:function(e,g){var k,p,u=this._needsClustering.slice(),m=this._needsRemoving;this._topClusterLevel&&this._topClusterLevel.getAllChildMarkers(u);for(k=u.length-1;0<=k;k--){var t=!0;for(p=m.length-1;0<=p;p--)if(m[p].layer===u[k]){t=!1;break}t&&e.call(g,u[k])}this._nonPointGroup.eachLayer(e,g)},getLayers:function(){var e=[];return this.eachLayer(function(g){e.push(g)}),
e},getLayer:function(e){var g=null;return e=parseInt(e,10),this.eachLayer(function(k){L.stamp(k)===e&&(g=k)}),g},hasLayer:function(e){if(!e)return!1;var g,k=this._needsClustering;for(g=k.length-1;0<=g;g--)if(k[g]===e)return!0;k=this._needsRemoving;for(g=k.length-1;0<=g;g--)if(k[g].layer===e)return!1;return!(!e.__parent||e.__parent._group!==this)||this._nonPointGroup.hasLayer(e)},zoomToShowLayer:function(e,g){"function"!=typeof g&&(g=function(){});var k=function(){!e._icon&&!e.__parent._icon||this._inZoomAnimation||
(this._map.off("moveend",k,this),this.off("animationend",k,this),e._icon?g():e.__parent._icon&&(this.once("spiderfied",g,this),e.__parent.spiderfy()))};e._icon&&this._map.getBounds().contains(e.getLatLng())?g():e.__parent._zoom<Math.round(this._map._zoom)?(this._map.on("moveend",k,this),this._map.panTo(e.getLatLng())):(this._map.on("moveend",k,this),this.on("animationend",k,this),e.__parent.zoomToBounds())},onAdd:function(e){this._map=e;var g;if(!isFinite(this._map.getMaxZoom()))throw"Map has no maxZoom specified";
this._featureGroup.addTo(e);this._nonPointGroup.addTo(e);this._gridClusters||this._generateInitialClusters();this._maxLat=e.options.crs.projection.MAX_LATITUDE;e=0;for(g=this._needsRemoving.length;g>e;e++){var k=this._needsRemoving[e];k.newlatlng=k.layer._latlng;k.layer._latlng=k.latlng}e=0;for(g=this._needsRemoving.length;g>e;e++)k=this._needsRemoving[e],this._removeLayer(k.layer,!0),k.layer._latlng=k.newlatlng;this._needsRemoving=[];this._zoom=Math.round(this._map._zoom);this._currentShownBounds=
this._getExpandedVisibleBounds();this._map.on("zoomend",this._zoomEnd,this);this._map.on("moveend",this._moveEnd,this);this._spiderfierOnAdd&&this._spiderfierOnAdd();this._bindEvents();g=this._needsClustering;this._needsClustering=[];this.addLayers(g,!0)},onRemove:function(e){e.off("zoomend",this._zoomEnd,this);e.off("moveend",this._moveEnd,this);this._unbindEvents();this._map._mapPane.className=this._map._mapPane.className.replace(" leaflet-cluster-anim","");this._spiderfierOnRemove&&this._spiderfierOnRemove();
delete this._maxLat;this._hideCoverage();this._featureGroup.remove();this._nonPointGroup.remove();this._featureGroup.clearLayers();this._map=null},getVisibleParent:function(e){for(;e&&!e._icon;)e=e.__parent;return e||null},_arraySplice:function(e,g){for(var k=e.length-1;0<=k;k--)if(e[k]===g)return e.splice(k,1),!0},_removeFromGridUnclustered:function(e,g){for(var k=this._map,p=this._gridUnclustered,u=Math.floor(this._map.getMinZoom());g>=u&&p[g].removeObject(e,k.project(e.getLatLng(),g));g--);},_childMarkerDragStart:function(e){e.target.__dragStart=
e.target._latlng},_childMarkerMoved:function(e){if(!this._ignoreMove&&!e.target.__dragStart){var g=e.target._popup&&e.target._popup.isOpen();this._moveChild(e.target,e.oldLatLng,e.latlng);g&&e.target.openPopup()}},_moveChild:function(e,g,k){e._latlng=g;this.removeLayer(e);e._latlng=k;this.addLayer(e)},_childMarkerDragEnd:function(e){var g=e.target.__dragStart;delete e.target.__dragStart;g&&this._moveChild(e.target,g,e.target._latlng)},_removeLayer:function(e,g,k){var p=this._gridClusters,u=this._gridUnclustered,
m=this._featureGroup,t=this._map,D=Math.floor(this._map.getMinZoom());g&&this._removeFromGridUnclustered(e,this._maxZoom);var E,H=e.__parent;for(this._arraySplice(H._markers,e);H&&(H._childCount--,H._boundsNeedUpdate=!0,!(H._zoom<D));)g&&1>=H._childCount?(E=H._markers[0]===e?H._markers[1]:H._markers[0],p[H._zoom].removeObject(H,t.project(H._cLatLng,H._zoom)),u[H._zoom].addObject(E,t.project(E.getLatLng(),H._zoom)),this._arraySplice(H.__parent._childClusters,H),H.__parent._markers.push(E),E.__parent=
H.__parent,H._icon&&(m.removeLayer(H),k||m.addLayer(E))):H._iconNeedsUpdate=!0,H=H.__parent;delete e.__parent},_isOrIsParent:function(e,g){for(;g;){if(e===g)return!0;g=g.parentNode}return!1},fire:function(e,g,k){if(g&&g.layer instanceof L.MarkerCluster){if(g.originalEvent&&this._isOrIsParent(g.layer._icon,g.originalEvent.relatedTarget))return;e="cluster"+e}L.FeatureGroup.prototype.fire.call(this,e,g,k)},listens:function(e,g){return L.FeatureGroup.prototype.listens.call(this,e,g)||L.FeatureGroup.prototype.listens.call(this,
"cluster"+e,g)},_defaultIconCreateFunction:function(e){e=e.getChildCount();var g=" marker-cluster-";return g+=10>e?"small":100>e?"medium":"large",new L.DivIcon({html:"<div><span>"+e+"</span></div>",className:"marker-cluster"+g,iconSize:new L.Point(40,40)})},_bindEvents:function(){var e=this._map,g=this.options.showCoverageOnHover,k=this.options.zoomToBoundsOnClick;(this.options.spiderfyOnMaxZoom||k)&&this.on("clusterclick",this._zoomOrSpiderfy,this);g&&(this.on("clustermouseover",this._showCoverage,
this),this.on("clustermouseout",this._hideCoverage,this),e.on("zoomend",this._hideCoverage,this))},_zoomOrSpiderfy:function(e){for(var g=e.layer,k=g;1===k._childClusters.length;)k=k._childClusters[0];k._zoom===this._maxZoom&&k._childCount===g._childCount&&this.options.spiderfyOnMaxZoom?g.spiderfy():this.options.zoomToBoundsOnClick&&g.zoomToBounds();e.originalEvent&&13===e.originalEvent.keyCode&&this._map._container.focus()},_showCoverage:function(e){var g=this._map;this._inZoomAnimation||(this._shownPolygon&&
g.removeLayer(this._shownPolygon),2<e.layer.getChildCount()&&e.layer!==this._spiderfied&&(this._shownPolygon=new L.Polygon(e.layer.getConvexHull(),this.options.polygonOptions),g.addLayer(this._shownPolygon)))},_hideCoverage:function(){this._shownPolygon&&(this._map.removeLayer(this._shownPolygon),this._shownPolygon=null)},_unbindEvents:function(){var e=this.options.showCoverageOnHover,g=this.options.zoomToBoundsOnClick,k=this._map;(this.options.spiderfyOnMaxZoom||g)&&this.off("clusterclick",this._zoomOrSpiderfy,
this);e&&(this.off("clustermouseover",this._showCoverage,this),this.off("clustermouseout",this._hideCoverage,this),k.off("zoomend",this._hideCoverage,this))},_zoomEnd:function(){this._map&&(this._mergeSplitClusters(),this._zoom=Math.round(this._map._zoom),this._currentShownBounds=this._getExpandedVisibleBounds())},_moveEnd:function(){if(!this._inZoomAnimation){var e=this._getExpandedVisibleBounds();this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),
this._zoom,e);this._topClusterLevel._recursivelyAddChildrenToMap(null,Math.round(this._map._zoom),e);this._currentShownBounds=e}},_generateInitialClusters:function(){var e=Math.ceil(this._map.getMaxZoom()),g=Math.floor(this._map.getMinZoom()),k=this.options.maxClusterRadius,p=k;"function"!=typeof k&&(p=function(){return k});null!==this.options.disableClusteringAtZoom&&(e=this.options.disableClusteringAtZoom-1);this._maxZoom=e;this._gridClusters={};for(this._gridUnclustered={};e>=g;e--)this._gridClusters[e]=
new L.DistanceGrid(p(e)),this._gridUnclustered[e]=new L.DistanceGrid(p(e));this._topClusterLevel=new this._markerCluster(this,g-1)},_addLayer:function(e,g){var k=this._gridClusters,p=this._gridUnclustered,u=Math.floor(this._map.getMinZoom());this.options.singleMarkerMode&&this._overrideMarkerIcon(e);for(e.on(this._childMarkerEventHandlers,this);g>=u;g--){var m=this._map.project(e.getLatLng(),g);var t=k[g].getNearObject(m);if(t)return t._addChild(e),e.__parent=t,void 0;if(t=p[g].getNearObject(m)){(m=
t.__parent)&&this._removeLayer(t,!1);p=new this._markerCluster(this,g,t,e);k[g].addObject(p,this._map.project(p._cLatLng,g));t.__parent=p;e.__parent=p;for(e=g-1;e>m._zoom;e--)p=new this._markerCluster(this,e,p),k[e].addObject(p,this._map.project(t.getLatLng(),e));return m._addChild(p),this._removeFromGridUnclustered(t,g),void 0}p[g].addObject(e,m)}this._topClusterLevel._addChild(e);e.__parent=this._topClusterLevel},_refreshClustersIcons:function(){this._featureGroup.eachLayer(function(e){e instanceof
L.MarkerCluster&&e._iconNeedsUpdate&&e._updateIcon()})},_enqueue:function(e){this._queue.push(e);this._queueTimeout||(this._queueTimeout=setTimeout(L.bind(this._processQueue,this),300))},_processQueue:function(){for(var e=0;e<this._queue.length;e++)this._queue[e].call(this);this._queue.length=0;clearTimeout(this._queueTimeout);this._queueTimeout=null},_mergeSplitClusters:function(){var e=Math.round(this._map._zoom);this._processQueue();this._zoom<e&&this._currentShownBounds.intersects(this._getExpandedVisibleBounds())?
(this._animationStart(),this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),this._zoom,this._getExpandedVisibleBounds()),this._animationZoomIn(this._zoom,e)):this._zoom>e?(this._animationStart(),this._animationZoomOut(this._zoom,e)):this._moveEnd()},_getExpandedVisibleBounds:function(){return this.options.removeOutsideVisibleBounds?L.Browser.mobile?this._checkBoundsMaxLat(this._map.getBounds()):this._checkBoundsMaxLat(this._map.getBounds().pad(1)):
this._mapBoundsInfinite},_checkBoundsMaxLat:function(e){var g=this._maxLat;return void 0!==g&&(e.getNorth()>=g&&(e._northEast.lat=1/0),e.getSouth()<=-g&&(e._southWest.lat=-1/0)),e},_animationAddLayerNonAnimated:function(e,g){g===e?this._featureGroup.addLayer(e):2===g._childCount?(g._addToMap(),e=g.getAllChildMarkers(),this._featureGroup.removeLayer(e[0]),this._featureGroup.removeLayer(e[1])):g._updateIcon()},_extractNonGroupLayers:function(e,g){var k=e.getLayers(),p=0;for(g=g||[];p<k.length;p++)e=
k[p],e instanceof L.LayerGroup?this._extractNonGroupLayers(e,g):g.push(e);return g},_overrideMarkerIcon:function(e){return e.options.icon=this.options.iconCreateFunction({getChildCount:function(){return 1},getAllChildMarkers:function(){return[e]}})}});L.MarkerClusterGroup.include({_mapBoundsInfinite:new L.LatLngBounds(new L.LatLng(-1/0,-1/0),new L.LatLng(1/0,1/0))});L.MarkerClusterGroup.include({_noAnimation:{_animationStart:function(){},_animationZoomIn:function(e,g){this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,
Math.floor(this._map.getMinZoom()),e);this._topClusterLevel._recursivelyAddChildrenToMap(null,g,this._getExpandedVisibleBounds());this.fire("animationend")},_animationZoomOut:function(e,g){this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),e);this._topClusterLevel._recursivelyAddChildrenToMap(null,g,this._getExpandedVisibleBounds());this.fire("animationend")},_animationAddLayer:function(e,g){this._animationAddLayerNonAnimated(e,g)}},
_withAnimation:{_animationStart:function(){this._map._mapPane.className+=" leaflet-cluster-anim";this._inZoomAnimation++},_animationZoomIn:function(e,g){var k,p=this._getExpandedVisibleBounds(),u=this._featureGroup,m=Math.floor(this._map.getMinZoom());this._ignoreMove=!0;this._topClusterLevel._recursively(p,e,m,function(t){var D=t._latlng,E=t._markers;p.contains(D)||(D=null);t._isSingleParent()&&e+1===g?(u.removeLayer(t),t._recursivelyAddChildrenToMap(null,g,p)):(t.clusterHide(),t._recursivelyAddChildrenToMap(D,
g,p));for(k=E.length-1;0<=k;k--)t=E[k],p.contains(t._latlng)||u.removeLayer(t)});this._forceLayout();this._topClusterLevel._recursivelyBecomeVisible(p,g);u.eachLayer(function(t){t instanceof L.MarkerCluster||!t._icon||t.clusterShow()});this._topClusterLevel._recursively(p,e,g,function(t){t._recursivelyRestoreChildPositions(g)});this._ignoreMove=!1;this._enqueue(function(){this._topClusterLevel._recursively(p,e,m,function(t){u.removeLayer(t);t.clusterShow()});this._animationEnd()})},_animationZoomOut:function(e,
g){this._animationZoomOutSingle(this._topClusterLevel,e-1,g);this._topClusterLevel._recursivelyAddChildrenToMap(null,g,this._getExpandedVisibleBounds());this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),e,this._getExpandedVisibleBounds())},_animationAddLayer:function(e,g){var k=this,p=this._featureGroup;p.addLayer(e);g!==e&&(2<g._childCount?(g._updateIcon(),this._forceLayout(),this._animationStart(),e._setPos(this._map.latLngToLayerPoint(g.getLatLng())),
e.clusterHide(),this._enqueue(function(){p.removeLayer(e);e.clusterShow();k._animationEnd()})):(this._forceLayout(),k._animationStart(),k._animationZoomOutSingle(g,this._map.getMaxZoom(),this._zoom)))}},_animationZoomOutSingle:function(e,g,k){var p=this._getExpandedVisibleBounds(),u=Math.floor(this._map.getMinZoom());e._recursivelyAnimateChildrenInAndAddSelfToMap(p,u,g+1,k);var m=this;this._forceLayout();e._recursivelyBecomeVisible(p,k);this._enqueue(function(){if(1===e._childCount){var t=e._markers[0];
this._ignoreMove=!0;t.setLatLng(t.getLatLng());this._ignoreMove=!1;t.clusterShow&&t.clusterShow()}else e._recursively(p,k,u,function(D){D._recursivelyRemoveChildrenFromMap(p,u,g+1)});m._animationEnd()})},_animationEnd:function(){this._map&&(this._map._mapPane.className=this._map._mapPane.className.replace(" leaflet-cluster-anim",""));this._inZoomAnimation--;this.fire("animationend")},_forceLayout:function(){L.Util.falseFn(document.body.offsetWidth)}});L.markerClusterGroup=function(e){return new L.MarkerClusterGroup(e)};
var K=L.MarkerCluster=L.Marker.extend({options:L.Icon.prototype.options,initialize:function(e,g,k,p){L.Marker.prototype.initialize.call(this,k?k._cLatLng||k.getLatLng():new L.LatLng(0,0),{icon:this,pane:e.options.clusterPane});this._group=e;this._zoom=g;this._markers=[];this._childClusters=[];this._childCount=0;this._boundsNeedUpdate=this._iconNeedsUpdate=!0;this._bounds=new L.LatLngBounds;k&&this._addChild(k);p&&this._addChild(p)},getAllChildMarkers:function(e,g){e=e||[];for(var k=this._childClusters.length-
1;0<=k;k--)this._childClusters[k].getAllChildMarkers(e);for(k=this._markers.length-1;0<=k;k--)g&&this._markers[k].__dragStart||e.push(this._markers[k]);return e},getChildCount:function(){return this._childCount},zoomToBounds:function(e){var g=this._childClusters.slice();var k=this._group._map;for(var p=k.getBoundsZoom(this._bounds),u=this._zoom+1,m=k.getZoom();0<g.length&&p>u;){u++;var t=[];for(k=0;k<g.length;k++)t=t.concat(g[k]._childClusters);g=t}p>u?this._group._map.setView(this._latlng,u):m>=
p?this._group._map.setView(this._latlng,m+1):this._group._map.fitBounds(this._bounds,e)},getBounds:function(){var e=new L.LatLngBounds;return e.extend(this._bounds),e},_updateIcon:function(){this._iconNeedsUpdate=!0;this._icon&&this.setIcon(this)},createIcon:function(){return this._iconNeedsUpdate&&(this._iconObj=this._group.options.iconCreateFunction(this),this._iconNeedsUpdate=!1),this._iconObj.createIcon()},createShadow:function(){return this._iconObj.createShadow()},_addChild:function(e,g){this._boundsNeedUpdate=
this._iconNeedsUpdate=!0;this._setClusterCenter(e);e instanceof L.MarkerCluster?(g||(this._childClusters.push(e),e.__parent=this),this._childCount+=e._childCount):(g||this._markers.push(e),this._childCount++);this.__parent&&this.__parent._addChild(e,!0)},_setClusterCenter:function(e){this._cLatLng||(this._cLatLng=e._cLatLng||e._latlng)},_resetBounds:function(){var e=this._bounds;e._southWest&&(e._southWest.lat=1/0,e._southWest.lng=1/0);e._northEast&&(e._northEast.lat=-1/0,e._northEast.lng=-1/0)},
_recalculateBounds:function(){var e;var g=this._markers;var k=this._childClusters,p=0,u=0,m=this._childCount;if(0!==m){this._resetBounds();for(e=0;e<g.length;e++){var t=g[e]._latlng;this._bounds.extend(t);p+=t.lat;u+=t.lng}for(e=0;e<k.length;e++)g=k[e],g._boundsNeedUpdate&&g._recalculateBounds(),this._bounds.extend(g._bounds),t=g._wLatLng,g=g._childCount,p+=t.lat*g,u+=t.lng*g;this._latlng=this._wLatLng=new L.LatLng(p/m,u/m);this._boundsNeedUpdate=!1}},_addToMap:function(e){e&&(this._backupLatlng=
this._latlng,this.setLatLng(e));this._group._featureGroup.addLayer(this)},_recursivelyAnimateChildrenIn:function(e,g,k){this._recursively(e,this._group._map.getMinZoom(),k-1,function(p){var u=p._markers;for(p=u.length-1;0<=p;p--){var m=u[p];m._icon&&(m._setPos(g),m.clusterHide())}},function(p){var u=p._childClusters;for(p=u.length-1;0<=p;p--){var m=u[p];m._icon&&(m._setPos(g),m.clusterHide())}})},_recursivelyAnimateChildrenInAndAddSelfToMap:function(e,g,k,p){this._recursively(e,p,g,function(u){u._recursivelyAnimateChildrenIn(e,
u._group._map.latLngToLayerPoint(u.getLatLng()).round(),k);u._isSingleParent()&&k-1===p?(u.clusterShow(),u._recursivelyRemoveChildrenFromMap(e,g,k)):u.clusterHide();u._addToMap()})},_recursivelyBecomeVisible:function(e,g){this._recursively(e,this._group._map.getMinZoom(),g,null,function(k){k.clusterShow()})},_recursivelyAddChildrenToMap:function(e,g,k){this._recursively(k,this._group._map.getMinZoom()-1,g,function(p){if(g!==p._zoom)for(var u=p._markers.length-1;0<=u;u--){var m=p._markers[u];k.contains(m._latlng)&&
(e&&(m._backupLatlng=m.getLatLng(),m.setLatLng(e),m.clusterHide&&m.clusterHide()),p._group._featureGroup.addLayer(m))}},function(p){p._addToMap(e)})},_recursivelyRestoreChildPositions:function(e){for(var g=this._markers.length-1;0<=g;g--){var k=this._markers[g];k._backupLatlng&&(k.setLatLng(k._backupLatlng),delete k._backupLatlng)}if(e-1===this._zoom)for(e=this._childClusters.length-1;0<=e;e--)this._childClusters[e]._restorePosition();else for(g=this._childClusters.length-1;0<=g;g--)this._childClusters[g]._recursivelyRestoreChildPositions(e)},
_restorePosition:function(){this._backupLatlng&&(this.setLatLng(this._backupLatlng),delete this._backupLatlng)},_recursivelyRemoveChildrenFromMap:function(e,g,k,p){var u,m;this._recursively(e,g-1,k-1,function(t){for(m=t._markers.length-1;0<=m;m--)u=t._markers[m],p&&p.contains(u._latlng)||(t._group._featureGroup.removeLayer(u),u.clusterShow&&u.clusterShow())},function(t){for(m=t._childClusters.length-1;0<=m;m--)u=t._childClusters[m],p&&p.contains(u._latlng)||(t._group._featureGroup.removeLayer(u),
u.clusterShow&&u.clusterShow())})},_recursively:function(e,g,k,p,u){var m=this._childClusters;var t=this._zoom;if(t>=g&&(p&&p(this),u&&t===k&&u(this)),g>t||k>t)for(t=m.length-1;0<=t;t--){var D=m[t];D._boundsNeedUpdate&&D._recalculateBounds();e.intersects(D._bounds)&&D._recursively(e,g,k,p,u)}},_isSingleParent:function(){return 0<this._childClusters.length&&this._childClusters[0]._childCount===this._childCount}});L.Marker.include({clusterHide:function(){var e=this.options.opacity;return this.setOpacity(0),
this.options.opacity=e,this},clusterShow:function(){return this.setOpacity(this.options.opacity)}});L.DistanceGrid=function(e){this._cellSize=e;this._sqCellSize=e*e;this._grid={};this._objectPoint={}};L.DistanceGrid.prototype={addObject:function(e,g){var k=this._getCoord(g.x),p=this._getCoord(g.y),u=this._grid;p=u[p]=u[p]||{};k=p[k]=p[k]||[];p=L.Util.stamp(e);this._objectPoint[p]=g;k.push(e)},updateObject:function(e,g){this.removeObject(e);this.addObject(e,g)},removeObject:function(e,g){var k=this._getCoord(g.x);
g=this._getCoord(g.y);var p=this._grid;var u=p[g]=p[g]||{},m=u[k]=u[k]||[];delete this._objectPoint[L.Util.stamp(e)];g=0;for(p=m.length;p>g;g++)if(m[g]===e)return m.splice(g,1),1===p&&delete u[k],!0},eachObject:function(e,g){var k,p,u,m,t=this._grid;for(k in t){var D=t[k];for(p in D){var E=D[p];var H=0;for(u=E.length;u>H;H++)(m=e.call(g,E[H]))&&(H--,u--)}}},getNearObject:function(e){var g,k,p,u,m,t=this._getCoord(e.x),D=this._getCoord(e.y),E=this._objectPoint,H=this._sqCellSize,N=null;for(g=D-1;D+
1>=g;g++)if(p=this._grid[g])for(k=t-1;t+1>=k;k++)if(u=p[k]){var X=0;for(m=u.length;m>X;X++){var J=u[X];var R=this._sqDist(E[L.Util.stamp(J)],e);(H>R||H>=R&&null===N)&&(H=R,N=J)}}return N},_getCoord:function(e){var g=Math.floor(e/this._cellSize);return isFinite(g)?g:e},_sqDist:function(e,g){var k=g.x-e.x;e=g.y-e.y;return k*k+e*e}};(function(){L.QuickHull={getDistant:function(e,g){return(g[0].lng-g[1].lng)*(e.lat-g[0].lat)+(g[1].lat-g[0].lat)*(e.lng-g[0].lng)},findMostDistantPointFromBaseLine:function(e,
g){var k,p=0,u=null,m=[];for(k=g.length-1;0<=k;k--){var t=g[k];var D=this.getDistant(t,e);0<D&&(m.push(t),D>p&&(p=D,u=t))}return{maxPoint:u,newPoints:m}},buildConvexHull:function(e,g){var k=[];g=this.findMostDistantPointFromBaseLine(e,g);return g.maxPoint?(k=k.concat(this.buildConvexHull([e[0],g.maxPoint],g.newPoints)),k.concat(this.buildConvexHull([g.maxPoint,e[1]],g.newPoints))):[e[0]]},getConvexHull:function(e){var g,k=!1,p=!1,u=!1,m=!1,t=null,D=null,E=null,H=null,N=null,X=null;for(g=e.length-
1;0<=g;g--){var J=e[g];(!1===k||J.lat>k)&&(t=J,k=J.lat);(!1===p||J.lat<p)&&(D=J,p=J.lat);(!1===u||J.lng>u)&&(E=J,u=J.lng);(!1===m||J.lng<m)&&(H=J,m=J.lng)}p!==k?(X=D,N=t):(X=H,N=E);return[].concat(this.buildConvexHull([X,N],e),this.buildConvexHull([N,X],e))}}})();L.MarkerCluster.include({getConvexHull:function(){var e,g=this.getAllChildMarkers(),k=[];for(e=g.length-1;0<=e;e--){var p=g[e].getLatLng();k.push(p)}return L.QuickHull.getConvexHull(k)}});L.MarkerCluster.include({_2PI:2*Math.PI,_circleFootSeparation:25,
_circleStartAngle:0,_spiralFootSeparation:28,_spiralLengthStart:11,_spiralLengthFactor:5,_circleSpiralSwitchover:9,spiderfy:function(){if(this._group._spiderfied!==this&&!this._group._inZoomAnimation){var e,g=this.getAllChildMarkers(null,!0),k=this._group._map.latLngToLayerPoint(this._latlng);this._group._unspiderfy();this._group._spiderfied=this;g.length>=this._circleSpiralSwitchover?e=this._generatePointsSpiral(g.length,k):(k.y+=10,e=this._generatePointsCircle(g.length,k));this._animationSpiderfy(g,
e)}},unspiderfy:function(e){this._group._inZoomAnimation||(this._animationUnspiderfy(e),this._group._spiderfied=null)},_generatePointsCircle:function(e,g){var k,p=this._group.options.spiderfyDistanceMultiplier*this._circleFootSeparation*(2+e)/this._2PI,u=this._2PI/e,m=[];p=Math.max(p,35);m.length=e;for(k=0;e>k;k++){var t=this._circleStartAngle+k*u;m[k]=(new L.Point(g.x+p*Math.cos(t),g.y+p*Math.sin(t)))._round()}return m},_generatePointsSpiral:function(e,g){var k=this._group.options.spiderfyDistanceMultiplier;
var p=k*this._spiralLengthStart,u=k*this._spiralFootSeparation,m=k*this._spiralLengthFactor*this._2PI,t=0,D=[];for(k=D.length=e;0<=k;k--)e>k&&(D[k]=(new L.Point(g.x+p*Math.cos(t),g.y+p*Math.sin(t)))._round()),t+=u/p+5E-4*k,p+=m/t;return D},_noanimationUnspiderfy:function(){var e,g=this._group,k=g._map,p=g._featureGroup,u=this.getAllChildMarkers(null,!0);g._ignoreMove=!0;this.setOpacity(1);for(e=u.length-1;0<=e;e--){var m=u[e];p.removeLayer(m);m._preSpiderfyLatlng&&(m.setLatLng(m._preSpiderfyLatlng),
delete m._preSpiderfyLatlng);m.setZIndexOffset&&m.setZIndexOffset(0);m._spiderLeg&&(k.removeLayer(m._spiderLeg),delete m._spiderLeg)}g.fire("unspiderfied",{cluster:this,markers:u});g._ignoreMove=!1;g._spiderfied=null}});L.MarkerClusterNonAnimated=L.MarkerCluster.extend({_animationSpiderfy:function(e,g){var k,p=this._group,u=p._map,m=p._featureGroup,t=this._group.options.spiderLegPolylineOptions;p._ignoreMove=!0;for(k=0;k<e.length;k++){var D=u.layerPointToLatLng(g[k]);var E=e[k];var H=new L.Polyline([this._latlng,
D],t);u.addLayer(H);E._spiderLeg=H;E._preSpiderfyLatlng=E._latlng;E.setLatLng(D);E.setZIndexOffset&&E.setZIndexOffset(1E6);m.addLayer(E)}this.setOpacity(.3);p._ignoreMove=!1;p.fire("spiderfied",{cluster:this,markers:e})},_animationUnspiderfy:function(){this._noanimationUnspiderfy()}});L.MarkerCluster.include({_animationSpiderfy:function(e,g){var k,p,u,m=this,t=this._group,D=t._map,E=t._featureGroup,H=this._latlng,N=D.latLngToLayerPoint(H),X=L.Path.SVG,J=L.extend({},this._group.options.spiderLegPolylineOptions),
R=J.opacity;void 0===R&&(R=L.MarkerClusterGroup.prototype.options.spiderLegPolylineOptions.opacity);X?(J.opacity=0,J.className=(J.className||"")+" leaflet-cluster-spider-leg"):J.opacity=R;t._ignoreMove=!0;for(k=0;k<e.length;k++){var P=e[k];var V=D.layerPointToLatLng(g[k]);var U=new L.Polyline([H,V],J);D.addLayer(U);P._spiderLeg=U;X&&(p=U._path,u=p.getTotalLength()+.1,p.style.strokeDasharray=u,p.style.strokeDashoffset=u);P.setZIndexOffset&&P.setZIndexOffset(1E6);P.clusterHide&&P.clusterHide();E.addLayer(P);
P._setPos&&P._setPos(N)}t._forceLayout();t._animationStart();for(k=e.length-1;0<=k;k--)V=D.layerPointToLatLng(g[k]),P=e[k],P._preSpiderfyLatlng=P._latlng,P.setLatLng(V),P.clusterShow&&P.clusterShow(),X&&(U=P._spiderLeg,p=U._path,p.style.strokeDashoffset=0,U.setStyle({opacity:R}));this.setOpacity(.3);t._ignoreMove=!1;setTimeout(function(){t._animationEnd();t.fire("spiderfied",{cluster:m,markers:e})},200)},_animationUnspiderfy:function(e){var g,k,p,u,m,t=this,D=this._group,E=D._map,H=D._featureGroup;
e=e?E._latLngToNewLayerPoint(this._latlng,e.zoom,e.center):E.latLngToLayerPoint(this._latlng);var N=this.getAllChildMarkers(null,!0),X=L.Path.SVG;D._ignoreMove=!0;D._animationStart();this.setOpacity(1);for(g=N.length-1;0<=g;g--){var J=N[g];J._preSpiderfyLatlng&&(J.closePopup(),J.setLatLng(J._preSpiderfyLatlng),delete J._preSpiderfyLatlng,m=!0,J._setPos&&(J._setPos(e),m=!1),J.clusterHide&&(J.clusterHide(),m=!1),m&&H.removeLayer(J),X&&(k=J._spiderLeg,p=k._path,u=p.getTotalLength()+.1,p.style.strokeDashoffset=
u,k.setStyle({opacity:0})))}D._ignoreMove=!1;setTimeout(function(){var R=0;for(g=N.length-1;0<=g;g--)J=N[g],J._spiderLeg&&R++;for(g=N.length-1;0<=g;g--)J=N[g],J._spiderLeg&&(J.clusterShow&&J.clusterShow(),J.setZIndexOffset&&J.setZIndexOffset(0),1<R&&H.removeLayer(J),E.removeLayer(J._spiderLeg),delete J._spiderLeg);D._animationEnd();D.fire("unspiderfied",{cluster:t,markers:N})},200)}});L.MarkerClusterGroup.include({_spiderfied:null,unspiderfy:function(){this._unspiderfy.apply(this,arguments)},_spiderfierOnAdd:function(){this._map.on("click",
this._unspiderfyWrapper,this);this._map.options.zoomAnimation&&this._map.on("zoomstart",this._unspiderfyZoomStart,this);this._map.on("zoomend",this._noanimationUnspiderfy,this);L.Browser.touch||this._map.getRenderer(this)},_spiderfierOnRemove:function(){this._map.off("click",this._unspiderfyWrapper,this);this._map.off("zoomstart",this._unspiderfyZoomStart,this);this._map.off("zoomanim",this._unspiderfyZoomAnim,this);this._map.off("zoomend",this._noanimationUnspiderfy,this);this._noanimationUnspiderfy()},
_unspiderfyZoomStart:function(){this._map&&this._map.on("zoomanim",this._unspiderfyZoomAnim,this)},_unspiderfyZoomAnim:function(e){L.DomUtil.hasClass(this._map._mapPane,"leaflet-touching")||(this._map.off("zoomanim",this._unspiderfyZoomAnim,this),this._unspiderfy(e))},_unspiderfyWrapper:function(){this._unspiderfy()},_unspiderfy:function(e){this._spiderfied&&this._spiderfied.unspiderfy(e)},_noanimationUnspiderfy:function(){this._spiderfied&&this._spiderfied._noanimationUnspiderfy()},_unspiderfyLayer:function(e){e._spiderLeg&&
(this._featureGroup.removeLayer(e),e.clusterShow&&e.clusterShow(),e.setZIndexOffset&&e.setZIndexOffset(0),this._map.removeLayer(e._spiderLeg),delete e._spiderLeg)}});L.MarkerClusterGroup.include({refreshClusters:function(e){return e?e instanceof L.MarkerClusterGroup?e=e._topClusterLevel.getAllChildMarkers():e instanceof L.LayerGroup?e=e._layers:e instanceof L.MarkerCluster?e=e.getAllChildMarkers():e instanceof L.Marker&&(e=[e]):e=this._topClusterLevel.getAllChildMarkers(),this._flagParentsIconsNeedUpdate(e),
this._refreshClustersIcons(),this.options.singleMarkerMode&&this._refreshSingleMarkerModeMarkers(e),this},_flagParentsIconsNeedUpdate:function(e){var g,k;for(g in e)for(k=e[g].__parent;k;)k._iconNeedsUpdate=!0,k=k.__parent},_refreshSingleMarkerModeMarkers:function(e){var g;for(g in e){var k=e[g];this.hasLayer(k)&&k.setIcon(this._overrideMarkerIcon(k))}}});L.Marker.include({refreshIconOptions:function(e,g){var k=this.options.icon;return L.setOptions(k,e),this.setIcon(k),g&&this.__parent&&this.__parent._group.refreshClusters(this),
this}});q.MarkerClusterGroup=B;q.MarkerCluster=K});/*
 Chen, Yi-Cyuan 2014-2017
 @license MIT
*/
!function(){function q(n,r){r?(N[0]=N[16]=N[1]=N[2]=N[3]=N[4]=N[5]=N[6]=N[7]=N[8]=N[9]=N[10]=N[11]=N[12]=N[13]=N[14]=N[15]=0,this.blocks=N):this.blocks=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];n?(this.h0=3238371032,this.h1=914150663,this.h2=812702999,this.h3=4144912697,this.h4=4290775857,this.h5=1750603025,this.h6=1694076839,this.h7=3204075428):(this.h0=1779033703,this.h1=3144134277,this.h2=1013904242,this.h3=2773480762,this.h4=1359893119,this.h5=2600822924,this.h6=528734635,this.h7=1541459225);this.block=
this.start=this.bytes=this.hBytes=0;this.finalized=this.hashed=!1;this.first=!0;this.is224=n}function B(n,r,y){var F=typeof n;if("string"===F){var z,A=[],x=n.length,G=0;for(F=0;F<x;++F)128>(z=n.charCodeAt(F))?A[G++]=z:2048>z?(A[G++]=192|z>>6,A[G++]=128|63&z):55296>z||57344<=z?(A[G++]=224|z>>12,A[G++]=128|z>>6&63,A[G++]=128|63&z):(z=65536+((1023&z)<<10|1023&n.charCodeAt(++F)),A[G++]=240|z>>18,A[G++]=128|z>>12&63,A[G++]=128|z>>6&63,A[G++]=128|63&z);n=A}else{if("object"!==F)throw Error(K);if(null===
n)throw Error(K);if(u&&n.constructor===ArrayBuffer)n=new Uint8Array(n);else if(!(Array.isArray(n)||u&&ArrayBuffer.isView(n)))throw Error(K);}64<n.length&&(n=(new q(r,!0)).update(n).array());z=[];A=[];for(F=0;64>F;++F)x=n[F]||0,z[F]=92^x,A[F]=54^x;q.call(this,r,y);this.update(A);this.oKeyPad=z;this.inner=!0;this.sharedMemory=y}var K="input is invalid type",e="object"==typeof window,g=e?window:{};g.JS_SHA256_NO_WINDOW&&(e=!1);e=!e&&"object"==typeof self;var k=!g.JS_SHA256_NO_NODE_JS&&"object"==typeof process&&
process.versions&&process.versions.node;k?g=global:e&&(g=self);e=!g.JS_SHA256_NO_COMMON_JS&&"object"==typeof module&&module.exports;var p="function"==typeof define&&define.amd,u=!g.JS_SHA256_NO_ARRAY_BUFFER&&"undefined"!=typeof ArrayBuffer,m="0123456789abcdef".split(""),t=[-2147483648,8388608,32768,128],D=[24,16,8,0],E=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,
4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],
H=["hex","array","digest","arrayBuffer"],N=[];!g.JS_SHA256_NO_NODE_JS&&Array.isArray||(Array.isArray=function(n){return"[object Array]"===Object.prototype.toString.call(n)});!u||!g.JS_SHA256_NO_ARRAY_BUFFER_IS_VIEW&&ArrayBuffer.isView||(ArrayBuffer.isView=function(n){return"object"==typeof n&&n.buffer&&n.buffer.constructor===ArrayBuffer});var X=function(n,r){return function(y){return(new q(r,!0)).update(y)[n]()}},J=function(n){var r=X("hex",n);k&&(r=R(r,n));r.create=function(){return new q(n)};r.update=
function(z){return r.create().update(z)};for(var y=0;y<H.length;++y){var F=H[y];r[F]=X(F,n)}return r},R=function(n,r){var y=eval("require('crypto')"),F=eval("require('buffer').Buffer"),z=r?"sha224":"sha256";return function(A){if("string"==typeof A)return y.createHash(z).update(A,"utf8").digest("hex");if(null===A||void 0===A)throw Error(K);return A.constructor===ArrayBuffer&&(A=new Uint8Array(A)),Array.isArray(A)||ArrayBuffer.isView(A)||A.constructor===F?y.createHash(z).update(new F(A)).digest("hex"):
n(A)}},P=function(n,r){return function(y,F){return(new B(y,r,!0)).update(F)[n]()}},V=function(n){var r=P("hex",n);r.create=function(z){return new B(z,n)};r.update=function(z,A){return r.create(z).update(A)};for(var y=0;y<H.length;++y){var F=H[y];r[F]=P(F,n)}return r};q.prototype.update=function(n){if(!this.finalized){var r=typeof n;if("string"!==r){if("object"!==r)throw Error(K);if(null===n)throw Error(K);if(u&&n.constructor===ArrayBuffer)n=new Uint8Array(n);else if(!(Array.isArray(n)||u&&ArrayBuffer.isView(n)))throw Error(K);
var y=!0}for(var F,z=0,A=n.length,x=this.blocks;z<A;){if(this.hashed&&(this.hashed=!1,x[0]=this.block,x[16]=x[1]=x[2]=x[3]=x[4]=x[5]=x[6]=x[7]=x[8]=x[9]=x[10]=x[11]=x[12]=x[13]=x[14]=x[15]=0),y)for(r=this.start;z<A&&64>r;++z)x[r>>2]|=n[z]<<D[3&r++];else for(r=this.start;z<A&&64>r;++z)128>(F=n.charCodeAt(z))?x[r>>2]|=F<<D[3&r++]:2048>F?(x[r>>2]|=(192|F>>6)<<D[3&r++],x[r>>2]|=(128|63&F)<<D[3&r++]):55296>F||57344<=F?(x[r>>2]|=(224|F>>12)<<D[3&r++],x[r>>2]|=(128|F>>6&63)<<D[3&r++],x[r>>2]|=(128|63&F)<<
D[3&r++]):(F=65536+((1023&F)<<10|1023&n.charCodeAt(++z)),x[r>>2]|=(240|F>>18)<<D[3&r++],x[r>>2]|=(128|F>>12&63)<<D[3&r++],x[r>>2]|=(128|F>>6&63)<<D[3&r++],x[r>>2]|=(128|63&F)<<D[3&r++]);this.lastByteIndex=r;this.bytes+=r-this.start;64<=r?(this.block=x[16],this.start=r-64,this.hash(),this.hashed=!0):this.start=r}return 4294967295<this.bytes&&(this.hBytes+=this.bytes/4294967296<<0,this.bytes%=4294967296),this}};q.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var n=this.blocks,
r=this.lastByteIndex;n[16]=this.block;n[r>>2]|=t[3&r];this.block=n[16];56<=r&&(this.hashed||this.hash(),n[0]=this.block,n[16]=n[1]=n[2]=n[3]=n[4]=n[5]=n[6]=n[7]=n[8]=n[9]=n[10]=n[11]=n[12]=n[13]=n[14]=n[15]=0);n[14]=this.hBytes<<3|this.bytes>>>29;n[15]=this.bytes<<3;this.hash()}};q.prototype.hash=function(){var n,r,y,F,z=this.h0,A=this.h1,x=this.h2,G=this.h3,fa=this.h4,da=this.h5,ha=this.h6,ea=this.h7,Z=this.blocks;for(n=16;64>n;++n){var qa=((y=Z[n-15])>>>7|y<<25)^(y>>>18|y<<14)^y>>>3;var db=((y=
Z[n-2])>>>17|y<<15)^(y>>>19|y<<13)^y>>>10;Z[n]=Z[n-16]+qa+Z[n-7]+db<<0}var Oa=A&x;for(n=0;64>n;n+=4)this.first?(this.is224?(F=300032,ea=(y=Z[0]-1413257819)-150054599<<0,G=y+24177077<<0):(F=704751109,ea=(y=Z[0]-210244248)-1521486534<<0,G=y+143694565<<0),this.first=!1):(qa=(z>>>2|z<<30)^(z>>>13|z<<19)^(z>>>22|z<<10),r=(F=z&A)^z&x^Oa,ea=G+(y=ea+((fa>>>6|fa<<26)^(fa>>>11|fa<<21)^(fa>>>25|fa<<7))+(fa&da^~fa&ha)+E[n]+Z[n])<<0,G=y+(qa+r)<<0),qa=(G>>>2|G<<30)^(G>>>13|G<<19)^(G>>>22|G<<10),r=(Oa=G&z)^G&A^
F,ha=x+(y=ha+((ea>>>6|ea<<26)^(ea>>>11|ea<<21)^(ea>>>25|ea<<7))+(ea&fa^~ea&da)+E[n+1]+Z[n+1])<<0,qa=((x=y+(qa+r)<<0)>>>2|x<<30)^(x>>>13|x<<19)^(x>>>22|x<<10),r=(db=x&G)^x&z^Oa,da=A+(y=da+((ha>>>6|ha<<26)^(ha>>>11|ha<<21)^(ha>>>25|ha<<7))+(ha&ea^~ha&fa)+E[n+2]+Z[n+2])<<0,qa=((A=y+(qa+r)<<0)>>>2|A<<30)^(A>>>13|A<<19)^(A>>>22|A<<10),r=(Oa=A&x)^A&G^db,fa=z+(y=fa+((da>>>6|da<<26)^(da>>>11|da<<21)^(da>>>25|da<<7))+(da&ha^~da&ea)+E[n+3]+Z[n+3])<<0,z=y+(qa+r)<<0;this.h0=this.h0+z<<0;this.h1=this.h1+A<<0;
this.h2=this.h2+x<<0;this.h3=this.h3+G<<0;this.h4=this.h4+fa<<0;this.h5=this.h5+da<<0;this.h6=this.h6+ha<<0;this.h7=this.h7+ea<<0};q.prototype.hex=function(){this.finalize();var n=this.h0,r=this.h1,y=this.h2,F=this.h3,z=this.h4,A=this.h5,x=this.h6,G=this.h7;n=m[n>>28&15]+m[n>>24&15]+m[n>>20&15]+m[n>>16&15]+m[n>>12&15]+m[n>>8&15]+m[n>>4&15]+m[15&n]+m[r>>28&15]+m[r>>24&15]+m[r>>20&15]+m[r>>16&15]+m[r>>12&15]+m[r>>8&15]+m[r>>4&15]+m[15&r]+m[y>>28&15]+m[y>>24&15]+m[y>>20&15]+m[y>>16&15]+m[y>>12&15]+m[y>>
8&15]+m[y>>4&15]+m[15&y]+m[F>>28&15]+m[F>>24&15]+m[F>>20&15]+m[F>>16&15]+m[F>>12&15]+m[F>>8&15]+m[F>>4&15]+m[15&F]+m[z>>28&15]+m[z>>24&15]+m[z>>20&15]+m[z>>16&15]+m[z>>12&15]+m[z>>8&15]+m[z>>4&15]+m[15&z]+m[A>>28&15]+m[A>>24&15]+m[A>>20&15]+m[A>>16&15]+m[A>>12&15]+m[A>>8&15]+m[A>>4&15]+m[15&A]+m[x>>28&15]+m[x>>24&15]+m[x>>20&15]+m[x>>16&15]+m[x>>12&15]+m[x>>8&15]+m[x>>4&15]+m[15&x];return this.is224||(n+=m[G>>28&15]+m[G>>24&15]+m[G>>20&15]+m[G>>16&15]+m[G>>12&15]+m[G>>8&15]+m[G>>4&15]+m[15&G]),n};
q.prototype.toString=q.prototype.hex;q.prototype.digest=function(){this.finalize();var n=this.h0,r=this.h1,y=this.h2,F=this.h3,z=this.h4,A=this.h5,x=this.h6,G=this.h7;n=[n>>24&255,n>>16&255,n>>8&255,255&n,r>>24&255,r>>16&255,r>>8&255,255&r,y>>24&255,y>>16&255,y>>8&255,255&y,F>>24&255,F>>16&255,F>>8&255,255&F,z>>24&255,z>>16&255,z>>8&255,255&z,A>>24&255,A>>16&255,A>>8&255,255&A,x>>24&255,x>>16&255,x>>8&255,255&x];return this.is224||n.push(G>>24&255,G>>16&255,G>>8&255,255&G),n};q.prototype.array=q.prototype.digest;
q.prototype.arrayBuffer=function(){this.finalize();var n=new ArrayBuffer(this.is224?28:32),r=new DataView(n);return r.setUint32(0,this.h0),r.setUint32(4,this.h1),r.setUint32(8,this.h2),r.setUint32(12,this.h3),r.setUint32(16,this.h4),r.setUint32(20,this.h5),r.setUint32(24,this.h6),this.is224||r.setUint32(28,this.h7),n};B.prototype=new q;B.prototype.finalize=function(){if(q.prototype.finalize.call(this),this.inner){this.inner=!1;var n=this.array();q.call(this,this.is224,this.sharedMemory);this.update(this.oKeyPad);
this.update(n);q.prototype.finalize.call(this)}};var U=J();U.sha256=U;U.sha224=J(!0);U.sha256.hmac=V();U.sha224.hmac=V(!0);e?module.exports=U:(g.sha256=U.sha256,g.sha224=U.sha224,p&&define(function(){return U}))}();
